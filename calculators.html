<!doctype html>
<html lang="en" dir="ltr" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <!-- AGGRESSIVE CACHE PREVENTION: Forces fresh load every time -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0"/>
  <meta http-equiv="Pragma" content="no-cache"/>
  <meta http-equiv="Expires" content="0"/>
  <title>Trading Calculators ‚Äî Signal Pilot</title>
  <meta name="description" content="Professional trading calculators with deep educational insights. Learn position sizing, risk management, and performance analysis from first principles.">
  <link rel="canonical" href="https://education.signalpilot.io/calculators.html">
  <meta name="theme-color" content="#05070d">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Gugi&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: #05070d; color: #e0e0e0; }
    .sp-header { background: rgba(5, 7, 13, 0.95); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
    .hero { min-height: 30vh; display: flex; align-items: center; padding: 3rem 0 2rem; text-align: center; }
  </style>
  <!-- SignalPilot Theme System -->
  <link rel="stylesheet" href="/assets/signalpilot-theme.css?v=1761788872">
  <link rel="stylesheet" href="/assets/edu.css?v=1761798768" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/assets/edu.css?v=1761798768"></noscript>
  <link rel="stylesheet" href="/assets/chatbot.css">
</head>
<body>
  <div class="bg-stars" aria-hidden="true"></div>
  <canvas id="constellations" class="sp-constellations" aria-hidden="true"></canvas>
  <div class="bg-aurora" aria-hidden="true"></div>

<header class="sp-header">
  <div class="wrap">
    <a href="https://signalpilot.io" class="brand">
      <span>Signal Pilot</span>
    </a>
    <nav id="mainnav" aria-label="Main">
      <ul>
        <li><a href="https://signalpilot.io/#why">Why Signal Pilot?</a></li>
        <li><a href="https://signalpilot.io/#inside">What's inside</a></li>
        <li><a href="/">Education</a></li>
        <li><a href="/search.html">üîç Search</a></li>
        <li><a aria-current="page" href="/calculators.html">Calculators</a></li>
        <li><a href="https://signalpilot.io/#pricing">Pricing</a></li>
      </ul>
    </nav>
    <div class="header-ctls">
      <button id="themeToggle" class="btn btn-ghost btn-sm" type="button" aria-label="Toggle theme">
        <span id="theme-icon">üåô</span>
      </button>
      <button id="menuToggle" class="menu-toggle" aria-expanded="false">Menu ‚ò∞</button>
    </div>
  </div>
</header>

<main>
  <!-- Hero Section -->
  <section class="hero">
    <div class="wrap">
      <span class="badge">üìä TRADING CALCULATORS</span>
      <h1 class="headline xl" style="margin:1rem 0">Professional Trading Tools</h1>
      <p class="lead" style="max-width:680px;margin:1rem auto">Essential calculators for position sizing, risk management, P&L analysis, and performance tracking. Each calculator includes deep educational insights to help you understand the math behind profitable trading.</p>
    </div>
  </section>

  <!-- Quick Links -->
  <section class="wrap" style="margin:2rem auto">
    <div class="card" style="padding:1.5rem;background:linear-gradient(135deg,rgba(91,138,255,0.1),rgba(118,221,255,0.05))">
      <h3 style="margin:0 0 1rem 0;font-size:1.1rem">Jump to Calculator:</h3>
      <div style="display:flex;gap:0.75rem;flex-wrap:wrap">
        <a href="#position-size" class="btn btn-sm btn-ghost">Position Size</a>
        <a href="#risk-reward" class="btn btn-sm btn-ghost">Risk/Reward</a>
        <a href="#profit-loss" class="btn btn-sm btn-ghost">Profit/Loss</a>
        <a href="#fees" class="btn btn-sm btn-ghost">Fees & Commissions</a>
        <a href="#compound" class="btn btn-sm btn-ghost">Compound Growth</a>
        <a href="#expectancy" class="btn btn-sm btn-ghost">Expectancy</a>
        <a href="#drawdown" class="btn btn-sm btn-ghost">Drawdown Recovery</a>
        <a href="#scaling" class="btn btn-sm btn-ghost">Position Scaling</a>
        <a href="#slippage" class="btn btn-sm btn-ghost">Slippage Reality</a>
        <a href="#r-multiple" class="btn btn-sm btn-ghost">R-Multiple Tracker</a>
        <a href="#breakeven" class="btn btn-sm btn-ghost">Break-Even Recovery</a>
      </div>
    </div>
  </section>

  <!-- Educational Disclaimer -->
  <section class="wrap" style="margin:2rem auto">
    <div class="card" style="padding:1.5rem;background:rgba(249,162,60,0.1);border-left:4px solid #f9a23c">
      <h3 style="margin:0 0 1rem 0;font-size:1rem;color:#f9a23c">‚ö†Ô∏è Educational Tools Only</h3>
      <p style="margin:0;line-height:1.6;font-size:0.95rem">These calculators are educational tools designed to help you understand trading mathematics and risk management principles. They show <strong>potential</strong> outcomes based on your inputs, not guaranteed results. All calculations are for educational purposes only and should not be considered trading advice. Always conduct your own research, understand the risks involved, and consider consulting with a financial advisor before making trading decisions.</p>
    </div>
  </section>

  <!-- Calculator 1: Position Size -->
  <section class="wrap" id="position-size" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">01</div>
        <div>
          <h2 class="headline md" style="margin:0">üìè Position Size Calculator</h2>
          <p class="calc-tagline">The difference between pros and gamblers isn't strategy‚Äîit's that pros risk 1% and gamblers risk 10%.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Common Mistakes</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label for="ps-balance">Account Balance ($)</label>
                  <input type="number" id="ps-balance" class="calc-input" value="10000" min="1" max="10000000" step="100" required aria-describedby="ps-balance-hint">
                </div>

                <div class="form-group">
                  <label for="ps-risk-pct">Risk Per Trade (%)</label>
                  <input type="number" id="ps-risk-pct" class="calc-input" value="1" min="0.1" max="100" step="0.1" required aria-describedby="ps-risk-hint">
                  <span class="input-hint" id="ps-risk-hint">Recommended: 0.5-2%</span>
                </div>

                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="ps-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Stop Loss Price ($)</label>
                  <input type="number" id="ps-stop" class="calc-input" value="95" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculatePositionSize()">Calculate Position Size</button>
                <button class="btn btn-secondary" onclick="loadPositionSizeExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="ps-result" class="result-box" style="display:none" role="region" aria-label="Position Size Results" aria-live="polite">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Position Size</span>
                    <span class="result-value" id="ps-size">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Dollar Risk</span>
                    <span class="result-value" id="ps-dollar-risk">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Risk Per Share</span>
                    <span class="result-value" id="ps-risk-unit">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Position Value</span>
                    <span class="result-value" id="ps-total-value">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Quick Insight</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Professional traders risk the same PERCENTAGE on every trade, not the same dollar amount. This ensures your risk stays proportional to your account size as it grows or shrinks.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Position Sizing is Everything</h3>

              <p>Most traders lose not because they're wrong, but because they're <strong>sized wrong</strong>. You can be right most of the time and still blow up if you risk too much when you're wrong.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Asymmetry of Losses</h4>
                <p>A 50% loss requires a 100% gain to recover. This mathematical reality is why risk management isn't optional‚Äîit's survival.</p>
                <ul>
                  <li>Down 20%? Need +25% to recover</li>
                  <li>Down 30%? Need +43% to recover</li>
                  <li>Down 50%? Need +100% to recover</li>
                </ul>
              </div>

              <h4>The Reality Check</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Risk Per Trade</th>
                    <th>5 Consecutive Losses</th>
                    <th>10 Consecutive Losses</th>
                    <th>Outcome</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1%</td>
                    <td class="good">-5%</td>
                    <td class="good">-10%</td>
                    <td>Recoverable</td>
                  </tr>
                  <tr>
                    <td>2%</td>
                    <td class="warn">-10%</td>
                    <td class="warn">-18%</td>
                    <td>Challenging</td>
                  </tr>
                  <tr>
                    <td>5%</td>
                    <td class="bad">-23%</td>
                    <td class="bad">-40%</td>
                    <td>Career-ending</td>
                  </tr>
                  <tr>
                    <td>10%</td>
                    <td class="bad">-41%</td>
                    <td class="bad">-65%</td>
                    <td>Account death</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-success">
                <h4>‚úì Real Example</h4>
                <p><strong>$10,000 account, risking 2% = $200 risk</strong></p>
                <p>Entry at $50, stop at $48 = $2 risk per share = <strong>100 shares</strong></p>
                <p>Same trader at 5% risk = 250 shares. Feels like "only 3% more risk" but creates <strong>150% bigger position</strong>.</p>
              </div>

              <h4>Professional Guidelines</h4>
              <ul class="styled-list">
                <li><strong>Learning Phase:</strong> Risk 0.5-1% per trade</li>
                <li><strong>Profitable Trader:</strong> Risk 1-2% per trade</li>
                <li><strong>Experienced Pro:</strong> Risk 2-3% per trade (multi-year track record only)</li>
                <li><strong>Red Flag:</strong> Anyone suggesting 5%+ is selling dreams, not strategies</li>
              </ul>
            </div>
          </div>

          <!-- Common Mistakes Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Common Position Sizing Mistakes</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #1</div>
                <h4>Risking the Same Dollar Amount</h4>
                <p>Trader always risks $500 per trade. Account starts at $50,000, shrinks to $30,000. Still risking $500.</p>
                <p><strong>Problem:</strong> $500 was 1% at $50k, now it's 1.67% at $30k. Risk increases as account shrinks = death spiral.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Always risk the same PERCENTAGE, not dollar amount.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #2</div>
                <h4>Counting Position SIZE Instead of Position RISK</h4>
                <p>"I always buy 100 shares" sounds consistent, but volatility changes everything.</p>
                <p><strong>Example:</strong> 100 shares of Tesla (4% ATR) = completely different risk than 100 shares of Apple (1% ATR).</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Calculate position size based on distance to stop, not arbitrary share count.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #3</div>
                <h4>Not Accounting for Gap Risk</h4>
                <p>Stop at $95, but stock gaps down to $90 on earnings. You planned for $5 risk, you got $10 risk.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Reduce position size 50% before binary events (earnings, FDA decisions, etc.).
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìñ Learn More</h4>
                <p>For deep dive into position sizing science, see <a href="/curriculum/beginner/09-position-sizing.html">Article #9: Position Sizing Science</a></p>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Position Sizing Tips</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Volatility-Adjusted Sizing</h4>
                  <p>Don't just calculate shares‚Äîadjust for ATR (Average True Range).</p>
                  <p><strong>Formula:</strong> Position Size = (Account √ó Risk%) / (ATR √ó Multiplier)</p>
                  <p>Higher volatility = automatically smaller position. Risk stays constant.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Portfolio Heat Management</h4>
                  <p>Individual trade risk is only part of the equation. Track TOTAL exposure.</p>
                  <p><strong>Example:</strong> 5 open positions at 1% each = 5% total portfolio heat</p>
                  <p>Professionals cap total heat at 6-8%. Above that, stop taking new trades.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Scale Based on Conviction</h4>
                  <p>A-grade setups: Full position (2%)<br>
                  B-grade setups: Half position (1%)<br>
                  C-grade setups: Quarter position (0.5%)</p>
                  <p>This allows you to stay in the game while allocating more capital to your best ideas.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 2% Rule</h4>
                  <p>Never risk more than 2% on any single trade, no matter how "sure" you are.</p>
                  <p>Why? Even 90% probability trades lose 10% of the time. If you bet 10% on "sure things," you'll eventually hit that 10% and crater your account.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ Kelly Criterion</h4>
                <p>Advanced position sizing uses the Kelly Criterion formula based on your edge and payoff ratio.</p>
                <p>Most pros use 1/4 Kelly (fractional Kelly) to account for estimation errors and reduce volatility.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 2: Risk/Reward -->
  <section class="wrap" id="risk-reward" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">02</div>
        <div>
          <h2 class="headline md" style="margin:0">‚öñÔ∏è Risk/Reward Calculator</h2>
          <p class="calc-tagline">Taking a 1:1 risk/reward trade is like flipping a coin where heads you win $1, tails you lose $1. Even if you're right more often, fees eat your edge.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Common Mistakes</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="rr-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Stop Loss ($)</label>
                  <input type="number" id="rr-stop" class="calc-input" value="95" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Take Profit ($)</label>
                  <input type="number" id="rr-target" class="calc-input" value="115" min="0" step="0.01">
                  <span class="input-hint">Minimum recommended: 2:1 R:R</span>
                </div>

                <button class="btn btn-primary" onclick="calculateRiskReward()">Calculate R:R</button>
                <button class="btn btn-secondary" onclick="loadRiskRewardExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="rr-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Risk/Reward Ratio</span>
                    <span class="result-value" id="rr-ratio">-</span>
                  </div>
                  <div id="rr-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Risk Per Share</span>
                    <span class="result-value" id="rr-risk">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Reward Per Share</span>
                    <span class="result-value" id="rr-reward">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° What Matters</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Risk/Reward ratio determines your expectancy. Focus on finding setups with 2:1 minimum R:R.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why R:R Determines Your Expectancy</h3>

              <p>Professional traders focus on R:R (Risk/Reward) because it directly controls expectancy. You can be right less often and still be highly profitable if your winners are bigger than your losers.</p>

              <div class="callout callout-info">
                <h4>üìä The Casino Principle</h4>
                <p>Casinos don't win every hand‚Äîthey win because when they DO win, they win MORE than they lose. That's R:R.</p>
              </div>

              <h4>Real Comparison: Trader A vs Trader B</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box bad">
                  <h5>‚ùå Trader A: "I take quick profits"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>R:R: 1:1</li>
                    <li>100 trades, 55% success</li>
                    <li>55 wins √ó $100 = $5,500</li>
                    <li>45 losses √ó $100 = $4,500</li>
                    <li><strong>Net: $1,000</strong></li>
                    <li><strong>Expectancy: $10/trade</strong></li>
                  </ul>
                </div>

                <div class="comparison-box good">
                  <h5>‚úì Trader B: "I let winners run"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>R:R: 1:3</li>
                    <li>100 trades, 35% success</li>
                    <li>35 wins √ó $300 = $10,500</li>
                    <li>65 losses √ó $100 = $6,500</li>
                    <li><strong>Net: $4,000</strong></li>
                    <li><strong>Expectancy: $40/trade</strong></li>
                  </ul>
                </div>
              </div>

              <p><strong>Trader B makes 4X MORE with better R:R ratios, even with fewer winning trades.</strong></p>

              <h4>Professional R:R Standards</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Setup Type</th>
                    <th>Minimum R:R</th>
                    <th>Target R:R</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Scalping</td>
                    <td>1.5:1</td>
                    <td class="warn">2:1</td>
                  </tr>
                  <tr>
                    <td>Day Trading</td>
                    <td>2:1</td>
                    <td class="good">3:1</td>
                  </tr>
                  <tr>
                    <td>Swing Trading</td>
                    <td>2.5:1</td>
                    <td class="good">4:1+</td>
                  </tr>
                  <tr>
                    <td>Position Trading</td>
                    <td>3:1</td>
                    <td class="good">5:1+</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Harsh Reality</h4>
                <p>Most retail traders take 1:1 or worse because:</p>
                <ol>
                  <li>They enter too late (already ran 50% of the move)</li>
                  <li>They're impatient (target is "too far away")</li>
                  <li>They put stops too close (don't want to risk "that much")</li>
                </ol>
                <p><strong>Result:</strong> Poor expectancy even when they're right often, still losing money after fees.</p>
              </div>
            </div>
          </div>

          <!-- Common Mistakes Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>R:R Mistakes That Kill Accounts</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #1</div>
                <h4>Taking Trades Regardless of R:R</h4>
                <p>"I really like this setup" ‚â† good R:R. Chart looks beautiful but only offers 1:0.8 R:R.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> If chart doesn't offer 2:1, you're entering at the wrong place. Wait or skip.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #2</div>
                <h4>Targeting Round Numbers</h4>
                <p>Entry $47.20, stop $45.80, target $50.00 because "it's a nice round number."</p>
                <p>Risk: $1.40, Reward: $2.80 = 1:2 R:R looks good... but $50 might have massive resistance.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Target structure-based levels (previous highs, volume nodes, FVGs), not round numbers.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #3</div>
                <h4>Moving Stops to "Improve" R:R</h4>
                <p>Entry $100, proper stop $95 (1:3 R:R). But "that's $500 risk!" so move stop to $98 (1:7.5 R:R!).</p>
                <p><strong>Problem:</strong> Stop is now in the noise. Gets stopped out 90% instead of 40%. "Great" R:R, terrible execution.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Set stop based on STRUCTURE, then adjust position size to match your risk tolerance.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #4</div>
                <h4>Measuring R:R From Current Price (Survivorship Bias)</h4>
                <p>Entered at $100, now at $105. "From here, my R:R is 1:4!" Wrong. Your R:R is measured from ENTRY.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Lock in 1:1 if you want, but track actual R:R from entry for journal.
                </div>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional R:R Strategy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 2:1 Minimum Rule</h4>
                  <p>Never take a trade below 2:1 R:R. This single rule will transform your trading.</p>
                  <p><strong>Why?</strong> At 2:1, you can be wrong twice as often as you're right and still break even. Gives massive margin for error.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Partial Profit Taking</h4>
                  <p>Take 50% at 2R, let 50% run to 4R+. This locks in winners while leaving room for home runs.</p>
                  <p><strong>Actual R:R:</strong> (0.5 √ó 2R) + (0.5 √ó 4R) = 3R average on winners</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Trailing Stops for Asymmetric R:R</h4>
                  <p>Initial target 3:1, but use trailing stop after 2R. Sometimes you catch 10R runners.</p>
                  <p>This creates positive skew: Losses capped at 1R, wins occasionally 5-10R.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>R:R Filters by Timeframe</h4>
                  <ul style="margin:0.5rem 0">
                    <li>Scalping: Minimum 1.5:1 (tight R:R, less room for error)</li>
                    <li>Day Trading: Minimum 2:1</li>
                    <li>Swing Trading: Minimum 2.5:1</li>
                    <li>Position Trading: Minimum 3:1</li>
                  </ul>
                  <p>Longer timeframes = more noise = need better R:R to compensate.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ The ATR-Based Target Method</h4>
                <p>Professional way to set realistic targets:</p>
                <ul>
                  <li>Stop: 1-1.5 ATR below entry</li>
                  <li>Target: 2-3 ATR above entry</li>
                  <li>Result: Automatic 2:1 to 3:1 R:R based on volatility</li>
                </ul>
                <p>See <a href="/curriculum/beginner/10-stop-losses.html">Article #10: ATR-Based Stops</a> for more.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 3: Profit/Loss -->
  <section class="wrap" id="profit-loss" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">03</div>
        <div>
          <h2 class="headline md" style="margin:0">üí∞ Profit/Loss Calculator</h2>
          <p class="calc-tagline">A $1,000 profit feels great until you realize it was 2% on a $50,000 position. Meanwhile your friend made 15% on $2,000. Who's the better trader?</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Psychology Traps</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Position Type</label>
                  <select id="pl-type" class="calc-input">
                    <option value="long">Long (Buy)</option>
                    <option value="short">Short (Sell)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="pl-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="pl-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size (shares/contracts)</label>
                  <input type="number" id="pl-size" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculateProfitLoss()">Calculate P&L</button>
                <button class="btn btn-secondary" onclick="loadProfitLossExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="pl-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Profit/Loss</span>
                    <span class="result-value" id="pl-amount">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Return (%)</span>
                    <span class="result-value" id="pl-pct">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Price Change</span>
                    <span class="result-value" id="pl-price-change">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">R-Multiple</span>
                    <span class="result-value" id="pl-r-multiple">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Track Both Metrics</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Dollar P&L shows absolute gain. Percentage shows efficiency. You need both to measure performance accurately.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Percentages Matter More Than Dollars</h3>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Context Problem</h4>
                <p>Absolute dollar P&L is meaningless without context:</p>
                <ul>
                  <li>Hedge fund making $1M on $100M = 1% (failing)</li>
                  <li>Retail trader making $1,000 on $10k = 10% (crushing it)</li>
                </ul>
              </div>

              <h4>Real Comparison</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box">
                  <h5>Trader A: "Look at my gains!"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Account: $100,000</li>
                    <li>Profit: $2,000</li>
                    <li>Return: <strong class="warn">2%</strong></li>
                    <li>Trades: 50</li>
                    <li>Avg per trade: 0.04%</li>
                  </ul>
                </div>

                <div class="comparison-box">
                  <h5>Trader B: "Small gains only"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Account: $5,000</li>
                    <li>Profit: $750</li>
                    <li>Return: <strong class="good">15%</strong></li>
                    <li>Trades: 30</li>
                    <li>Avg per trade: 0.5%</li>
                  </ul>
                </div>
              </div>

              <p>Trader B is FAR more skilled, but Trader A "feels richer" because brain only sees dollars.</p>

              <h4>The Survivorship Bias Trap</h4>
              <p>Your brain remembers:</p>
              <ul>
                <li class="good">‚úì The $500 winner (feels amazing)</li>
                <li class="muted">‚Ä¢ Forgets the 8 √ó $100 losers</li>
              </ul>
              <p><strong>Net result:</strong> -$300, but you "feel" profitable because that one win was memorable.</p>

              <div class="callout callout-success">
                <h4>‚úì What Professionals Track</h4>
                <ul>
                  <li><strong>Dollar P&L:</strong> Pays the bills</li>
                  <li><strong>Percentage Return:</strong> Measures skill</li>
                  <li><strong>R-Multiples:</strong> Normalizes across different setups</li>
                  <li><strong>Expectancy:</strong> Average profit per trade (the most important metric)</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Psychology Traps Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Psychology Traps in P&L Tracking</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #1</div>
                <h4>Dollar Anchoring</h4>
                <p>Your brain values $1,000 as $1,000 regardless of account size.</p>
                <p><strong>Result:</strong></p>
                <ul>
                  <li>$50k trader making $500/day (1%) feels "poor"</li>
                  <li>$5k trader chasing $500/day (10%) feels "motivated"</li>
                </ul>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Think in percentages only. "I need 2% per week" not "$1,000 per week."
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #2</div>
                <h4>Scaling Position Size Based on Confidence</h4>
                <p>"I'm really confident in this trade" ‚Üí takes 500 shares instead of usual 100.</p>
                <p><strong>Problem:</strong> Confidence ‚â† edge. Position size should be CONSISTENT.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Risk same % every trade. Confidence is emotional noise.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #3</div>
                <h4>Revenge Sizing</h4>
                <p>Lost $500, so next trade risks $1,000 to "make it back."</p>
                <p><strong>This is how accounts die.</strong> Position size should NEVER depend on previous trade.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Every trade starts fresh. Same risk %, always.
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìä Track Your Average Win/Loss</h4>
                <p>After 50 trades, you should know:</p>
                <ul>
                  <li>Average Winner: +X%</li>
                  <li>Average Loser: -Y%</li>
                  <li>Expectancy: $Z per trade</li>
                </ul>
                <p>If you can't consistently make 1-2% per winning trade, something's wrong with your execution.</p>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 10% Monthly Reality Check</h4>
                  <p>+10% on ONE trade = great<br>
                  +10% on 50 trades = either genius or about to blow up</p>
                  <p><strong>Why?</strong> Consistent 10% per trade means you're either taking massive risk or getting lucky. Neither is sustainable.</p>
                  <p>Track your AVERAGE return per trade over 50+ trades. That's your real edge.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 4: Fees/Commission -->
  <section class="wrap" id="fees" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">04</div>
        <div>
          <h2 class="headline md" style="margin:0">üí∏ Fee/Commission Calculator</h2>
          <p class="calc-tagline">You're not competing with other traders. You're competing with your broker's fee structure. And your broker ALWAYS wins.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Cost Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="fee-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="fee-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size</label>
                  <input type="number" id="fee-size" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Commission Per Trade ($)</label>
                  <input type="number" id="fee-commission" class="calc-input" value="5" min="0" step="0.01">
                  <span class="input-hint">Round-trip = 2x this amount</span>
                </div>

                <div class="form-group">
                  <label>Fee Rate (%) - SEC/Exchange Fees</label>
                  <input type="number" id="fee-rate" class="calc-input" value="0.1" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculateFees()">Calculate Fees</button>
                <button class="btn btn-secondary" onclick="loadFeesExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="fee-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Total Fees</span>
                    <span class="result-value" id="fee-total">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Entry Costs</span>
                    <span class="result-value" id="fee-entry-cost">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Exit Costs</span>
                    <span class="result-value" id="fee-exit-cost">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Gross P&L</span>
                    <span class="result-value" id="fee-gross-pl">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Net P&L After Fees</span>
                    <span class="result-value" id="fee-net-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Break-Even Price</span>
                    <span class="result-value" id="fee-breakeven">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Fee Impact</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Every trade starts in a hole. Calculate break-even BEFORE entering to understand true cost of trading.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Fees Kill Scalpers (And Everyone Else)</h3>

              <p>Every trade you make, you start in a hole. Before the price moves at all, you owe commissions, fees, spreads, and slippage.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Scalper's Death Spiral</h4>
                <p>Scalper taking 20 trades/day at $10/roundtrip = $200/day in fees = $4,000/month = $48,000/year just to BREAK EVEN.</p>
                <p>Most retail traders don't calculate this until they've lost a year wondering why they're "winning trades but losing money."</p>
              </div>

              <h4>The Harsh Math</h4>

              <div class="comparison-box bad">
                <h5>Example: The Hidden Cost</h5>
                <p>On a $10,000 position:</p>
                <ul style="margin:0.5rem 0">
                  <li>Commission: $10 (round-trip)</li>
                  <li>SEC/Exchange fees: $20 (0.2% roundtrip)</li>
                  <li>Slippage estimate: $10</li>
                  <li><strong>Total cost: $40</strong></li>
                </ul>
                <p style="margin-top:1rem"><strong>You need +0.4% move just to break even.</strong></p>
                <p>If you scalp 0.3% moves? You're slowly going broke.</p>
              </div>

              <h4>The Fee Hierarchy (Best to Worst)</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Strategy</th>
                    <th>Frequency</th>
                    <th>Fees as % of Returns</th>
                    <th>Verdict</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Long-term Investing</td>
                    <td>Monthly+</td>
                    <td class="good">0.01-0.1%</td>
                    <td>Sustainable</td>
                  </tr>
                  <tr>
                    <td>Swing Trading</td>
                    <td>Weekly</td>
                    <td class="good">1-2%</td>
                    <td>Viable</td>
                  </tr>
                  <tr>
                    <td>Day Trading</td>
                    <td>Daily</td>
                    <td class="warn">10-20%</td>
                    <td>Challenging</td>
                  </tr>
                  <tr>
                    <td>Scalping</td>
                    <td>Minutes</td>
                    <td class="bad">30-60%</td>
                    <td>Nearly Impossible</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-info">
                <h4>üìä Real Trader Example</h4>
                <p><strong>Trader scalps 10 trades/day:</strong></p>
                <ul>
                  <li>Position size: $5,000 each</li>
                  <li>Gross profit/trade: $25 (0.5% avg)</li>
                  <li>Fees/trade: $15 (commission + fees)</li>
                  <li>Net profit/trade: $10</li>
                </ul>
                <p style="margin-top:1rem"><strong>Daily gross: $250</strong><br>
                <strong>Daily fees: $150</strong><br>
                <strong>Daily net: $100</strong></p>
                <p>Fees ate 60% of profits. After 6 months, trader made $12k but "should have" made $30k.</p>
              </div>
            </div>
          </div>

          <!-- Cost Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Cost Structure Breakdown</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Calculate Break-Even BEFORE Entry</h4>
                  <p>Most traders enter first, then realize they need +0.3-0.5% just to break even.</p>
                  <p><strong>Formula:</strong> Break-even = Entry + (Total Fees / Position Size)</p>
                  <p>If break-even requires more than 0.3% move, you're either overtrading or using wrong strategy.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Why Market Makers Win</h4>
                  <p>They have structural advantages:</p>
                  <ul>
                    <li>Earn the spread (you PAY the spread)</li>
                    <li>Pay lower commissions (volume discounts)</li>
                    <li>Get rebates for adding liquidity (you PAY to take liquidity)</li>
                  </ul>
                  <p><strong>Result:</strong> They start with 0.5% advantage on every trade.</p>
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Common Mistake</div>
                <h4>Only Tracking Commissions</h4>
                <p>Commissions are the smallest part of trading costs.</p>
                <p><strong>Full cost breakdown:</strong></p>
                <ul>
                  <li>Commission: $5-10</li>
                  <li>Spread: $10-50 (varies by liquidity)</li>
                  <li>Slippage: $5-20 (varies by volatility)</li>
                  <li>SEC/Exchange fees: $5-15</li>
                </ul>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Track ALL costs. Spread and slippage are often 2-3x commission amount.
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ Optimal Trade Frequency</h4>
                <p>There's a sweet spot for trade frequency:</p>
                <ul>
                  <li><strong>Too few trades:</strong> Miss opportunities, under-utilize capital</li>
                  <li><strong>Too many trades:</strong> Death by fees, overtrading</li>
                  <li><strong>Sweet spot:</strong> 2-10 trades per week for most retail traders</li>
                </ul>
                <p>Each trade should offer enough profit potential to justify fee burden (minimum 2:1 R:R after fees).</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 5: Compound Growth -->
  <section class="wrap" id="compound" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">05</div>
        <div>
          <h2 class="headline md" style="margin:0">üìà Compound Growth Calculator</h2>
          <p class="calc-tagline">Compound interest is the most powerful force in the universe‚Äîand the slowest. Get-rich-quick traders die before compounding can save them.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Reality Check</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Starting Balance ($)</label>
                  <input type="number" id="cg-balance" class="calc-input" value="10000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Average Monthly Return (%)</label>
                  <input type="number" id="cg-return" class="calc-input" value="5" min="-100" step="0.1">
                  <span class="input-hint">Realistic: 3-7% monthly</span>
                </div>

                <div class="form-group">
                  <label>Number of Months</label>
                  <input type="number" id="cg-months" class="calc-input" value="12" min="1" step="1">
                </div>

                <div class="form-group">
                  <label>Monthly Addition ($)</label>
                  <input type="number" id="cg-addition" class="calc-input" value="0" min="0" step="100">
                  <span class="input-hint">External capital injection</span>
                </div>

                <button class="btn btn-primary" onclick="calculateCompoundGrowth()">Calculate Growth</button>
                <button class="btn btn-secondary" onclick="loadCompoundGrowthExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="cg-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Final Balance</span>
                    <span class="result-value" id="cg-final">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Gain</span>
                    <span class="result-value" id="cg-gain">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Added Capital</span>
                    <span class="result-value" id="cg-added">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Total Return (%)</span>
                    <span class="result-value" id="cg-pct">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Annualized Return</span>
                    <span class="result-value" id="cg-annual">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Compound Magic</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">10% monthly ‚â† 120% annually. It's 214% due to compounding. Small consistent gains > large inconsistent gains.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Power (and Fragility) of Compounding</h3>

              <p>Everyone quotes Einstein on compound interest. What they don't tell you: compounding is SLOW and FRAGILE. It requires CONSISTENCY, not home runs.</p>

              <div class="callout callout-info">
                <h4>üìä Simple vs Compound Interest</h4>
                <p><strong>Simple (Wrong):</strong> $10,000 √ó 10% monthly √ó 12 = $22,000</p>
                <p><strong>Compound (Right):</strong> $10,000 ‚Üí $11,000 ‚Üí $12,100 ‚Üí $13,310... ‚Üí <strong>$31,384</strong></p>
                <p>You made $21,384, not $12,000. That's the power of compounding.</p>
              </div>

              <h4>But Here's What They Don't Tell You</h4>

              <div class="comparison-box bad">
                <h5>‚ö†Ô∏è Compounding is Fragile</h5>
                <p><strong>Scenario:</strong> Same trader, ONE bad month (-20%) in month 6:</p>
                <ul style="margin:0.5rem 0">
                  <li>Month 6 balance: $17,715</li>
                  <li>After -20%: $14,172</li>
                  <li>Month 12 (6 more at 10%): $25,093</li>
                </ul>
                <p style="margin-top:1rem"><strong>One bad month cost $6,291 in final value.</strong></p>
              </div>

              <h4>Steady Eddie vs Boom/Bust</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Steady Eddie</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Start: $10,000</li>
                    <li>Return: 5% every month</li>
                    <li>12 months</li>
                    <li><strong>Final: $17,958</strong></li>
                  </ul>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Boom/Bust</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Start: $10,000</li>
                    <li>Return: +20%, -10% alternating</li>
                    <li>Average: 5%/month</li>
                    <li><strong>Final: $15,036</strong></li>
                  </ul>
                </div>
              </div>

              <p><strong>Same AVERAGE return, but volatility destroyed 16% of final value.</strong></p>

              <div class="callout callout-success">
                <h4>‚úì The Real Secret</h4>
                <p>It's not making huge returns. It's making small returns WITHOUT having big drawdowns.</p>
                <p><strong>5% monthly with no -20% months beats 15% monthly with occasional -30% blowups.</strong></p>
                <p>This is why Sharpe ratio (consistency) matters more than raw returns.</p>
              </div>
            </div>
          </div>

          <!-- Reality Check Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Reality Check: Time to $1M</h3>

              <p>Everyone wants to know: "How long to turn $10k into $1M?"</p>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Monthly Return</th>
                    <th>Time to $1M</th>
                    <th>Realistic?</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>3%</td>
                    <td class="warn">126 months (10.5 years)</td>
                    <td>Achievable</td>
                  </tr>
                  <tr>
                    <td>5%</td>
                    <td class="good">94 months (7.8 years)</td>
                    <td>World-class</td>
                  </tr>
                  <tr>
                    <td>10%</td>
                    <td class="good">48 months (4 years)</td>
                    <td>Elite (unsustainable)</td>
                  </tr>
                  <tr>
                    <td>20%</td>
                    <td class="bad">24 months (2 years)</td>
                    <td>Impossible to sustain</td>
                  </tr>
                  <tr>
                    <td>50%</td>
                    <td class="bad">10 months</td>
                    <td>Scam territory</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Harsh Truth</h4>
                <ul>
                  <li><strong>3-5% monthly:</strong> Realistic for skilled traders</li>
                  <li><strong>7-10% monthly:</strong> Elite territory (hard to sustain)</li>
                  <li><strong>15%+ monthly:</strong> Either genius, lucky, or about to blow up</li>
                  <li><strong>50%+ monthly:</strong> Marketing lie</li>
                </ul>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Why Adding Capital Matters</h4>
                  <p><strong>$10,000 at 5% monthly:</strong></p>
                  <ul>
                    <li>Month 12 (no additions): $17,958</li>
                    <li>Month 12 (adding $500/month): $25,614</li>
                  </ul>
                  <p><strong>Adding $500/month = $7,656 MORE in final balance.</strong></p>
                  <p>Sometimes the best trading strategy is having a job.</p>
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Common Trap</div>
                <h4>Withdrawing Profits Too Early</h4>
                <p>Trader makes $2,000, withdraws it to "lock in gains."</p>
                <p><strong>Problem:</strong> You just broke the exponential curve. That $2,000 could have become $10,000 over next year.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Let capital compound for at least 12-24 months before regular withdrawals. Withdraw profits only AFTER achieving target account size.
                </div>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Compounding Strategy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 3-Phase Approach</h4>
                  <p><strong>Phase 1: Growth (0-2 years)</strong></p>
                  <ul>
                    <li>Withdraw $0, reinvest everything</li>
                    <li>Add external capital monthly</li>
                    <li>Focus on % returns, not dollar amounts</li>
                  </ul>
                  <p><strong>Phase 2: Scaling (2-5 years)</strong></p>
                  <ul>
                    <li>Withdraw only enough to cover living expenses</li>
                    <li>Reinvest majority of profits</li>
                    <li>Account size reaching critical mass ($100k+)</li>
                  </ul>
                  <p><strong>Phase 3: Income (5+ years)</strong></p>
                  <ul>
                    <li>Withdraw 50-70% of profits</li>
                    <li>Keep 30-50% compounding</li>
                    <li>Living off trading income sustainably</li>
                  </ul>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Geometric vs Arithmetic Returns</h4>
                  <p>Your broker statement shows arithmetic returns (misleading).</p>
                  <p><strong>Example:</strong> +50% then -50%</p>
                  <ul>
                    <li>Arithmetic average: (+50% + -50%) / 2 = 0%</li>
                    <li>Geometric return: $10k ‚Üí $15k ‚Üí $7.5k = -25%</li>
                  </ul>
                  <p><strong>Always track geometric returns (what actually happened to your money).</strong></p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Drawdown Protection</h4>
                  <p>Compounding accelerates gains. But it also accelerates losses if you're in drawdown.</p>
                  <p><strong>Rule:</strong> If down >10%, reduce position size 50% until recovery.</p>
                  <p>Better to compound slowly than destroy years of gains with one bad streak.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ The 1% Daily Rule</h4>
                <p>Want a realistic target? Aim for 1% per DAY average.</p>
                <ul>
                  <li>1% daily = ~21% monthly (assuming 21 trading days)</li>
                  <li>But you won't hit 1% every day (some wins, some losses)</li>
                  <li>More realistic: 2-3% on winning days, -1% on losing days, 0.5% average</li>
                </ul>
                <p>This compounds to 10-15% monthly if you can sustain it (elite level).</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 6: Expectancy Calculator -->
  <section class="wrap" id="expectancy" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">06</div>
        <div>
          <h2 class="headline md" style="margin:0">üéØ Expectancy Calculator</h2>
          <p class="calc-tagline">The ONLY metric that matters. If your expectancy is negative, you're mathematically guaranteed to lose. If it's positive, you print money.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>The Math</button>
          <button>Pro Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Total Wins ($)</label>
                  <input type="number" id="exp-total-wins" class="calc-input" value="12000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Total Losses ($)</label>
                  <input type="number" id="exp-total-losses" class="calc-input" value="4000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Number of Trades</label>
                  <input type="number" id="exp-num-trades" class="calc-input" value="100" min="1" step="1">
                </div>

                <button class="btn btn-primary" onclick="calculateExpectancy()">Calculate Expectancy</button>
                <button class="btn btn-secondary" onclick="loadExpectancyExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="exp-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Expectancy Per Trade</span>
                    <span class="result-value" id="exp-value">-</span>
                  </div>
                  <div id="exp-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Profit Factor</span>
                    <span class="result-value" id="exp-pf">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Average R-Multiple</span>
                    <span class="result-value" id="exp-avg-r">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Net Profit</span>
                    <span class="result-value" id="exp-net">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° What This Means</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Expectancy is your average profit per trade. If positive, you're printing money. If negative, you're mathematically doomed.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Expectancy Is The ONLY Metric That Matters</h3>

              <p>Forget everything else. Expectancy tells you the average $ you make (or lose) per trade. It's the single number that determines if you're profitable or bankrupt.</p>

              <div class="callout callout-info">
                <h4>üíé The Brutal Truth</h4>
                <p><strong>Positive expectancy = Money printing machine</strong></p>
                <p><strong>Negative expectancy = Slow death by 1,000 cuts</strong></p>
                <p>There's no middle ground. The math doesn't care about your feelings.</p>
              </div>

              <h4>Real Example: Two Traders, 100 Trades Each</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box bad">
                  <h5>‚ùå Trader A: Negative Expectancy</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Total Wins: $7,000</li>
                    <li>Total Losses: $9,000</li>
                    <li>100 trades</li>
                    <li><strong>Expectancy: -$20/trade</strong></li>
                  </ul>
                  <p style="margin-top:1rem">After 1,000 trades: <strong>-$20,000</strong></p>
                  <p>Mathematically guaranteed to lose.</p>
                </div>

                <div class="comparison-box good">
                  <h5>‚úì Trader B: Positive Expectancy</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Total Wins: $12,000</li>
                    <li>Total Losses: $4,000</li>
                    <li>100 trades</li>
                    <li><strong>Expectancy: +$80/trade</strong></li>
                  </ul>
                  <p style="margin-top:1rem">After 1,000 trades: <strong>+$80,000</strong></p>
                  <p>Mathematically guaranteed to win.</p>
                </div>
              </div>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è Why Most Traders Fail</h4>
                <p>They track everything EXCEPT expectancy:</p>
                <ul>
                  <li>Total P&L (misleading‚Äîcould be luck)</li>
                  <li>Biggest win (irrelevant if you give it back)</li>
                  <li>Number of green days (doesn't matter if red days are bigger)</li>
                </ul>
                <p><strong>Track expectancy. Nothing else matters.</strong></p>
              </div>
            </div>
          </div>

          <!-- The Math Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Math Behind Expectancy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Expectancy Formula</h4>
                  <p><strong>Expectancy = (Total Wins - Total Losses) / Number of Trades</strong></p>
                  <p>That's it. Dead simple. Your average profit per trade.</p>
                </div>
              </div>

              <h4>Profit Factor (Supporting Metric)</h4>

              <div class="callout callout-info">
                <h4>üìä Profit Factor = Total Wins / Total Losses</h4>
                <p>Shows how much you make per dollar lost.</p>
                <ul>
                  <li>PF < 1.0 = Losing system</li>
                  <li>PF = 1.5-2.0 = Profitable system</li>
                  <li>PF > 3.0 = Elite system</li>
                </ul>
                <p><strong>Example:</strong> $12,000 wins / $4,000 losses = 3.0 Profit Factor</p>
              </div>

              <h4>Average R-Multiple</h4>

              <p>If you track risk in R-units (1R = your initial risk per trade):</p>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <p><strong>Average R = Net Profit / (Number of Trades √ó Risk per Trade)</strong></p>
                  <p>Normalizes performance across different position sizes.</p>
                  <p><strong>Target:</strong> +0.5R to +1R per trade = professional level</p>
                </div>
              </div>

              <h4>Sample Size Matters</h4>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Number of Trades</th>
                    <th>Confidence Level</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>&lt;30</td>
                    <td class="bad">Not statistically significant</td>
                  </tr>
                  <tr>
                    <td>30-100</td>
                    <td class="warn">Marginal confidence</td>
                  </tr>
                  <tr>
                    <td>100-300</td>
                    <td class="good">Good confidence</td>
                  </tr>
                  <tr>
                    <td>300+</td>
                    <td class="good">High confidence</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Pro Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Expectancy Standards</h3>

              <div class="callout callout-success">
                <h4>‚úì What Your Numbers Should Look Like</h4>
                <p><strong>Scalping:</strong> $5-20 expectancy per trade</p>
                <p><strong>Day Trading:</strong> $20-100 expectancy per trade</p>
                <p><strong>Swing Trading:</strong> $100-500 expectancy per trade</p>
                <p><strong>Position Trading:</strong> $500-2,000+ expectancy per trade</p>
              </div>

              <h4>The Expectancy Improvement Framework</h4>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Only 2 Ways to Improve Expectancy:</h4>
                  <p><strong>1. Increase average winner</strong></p>
                  <ul>
                    <li>Let winners run (trail stops)</li>
                    <li>Take partials at logical targets</li>
                    <li>Better entry timing (improve R:R)</li>
                  </ul>
                  <p><strong>2. Decrease average loser</strong></p>
                  <ul>
                    <li>Cut losses faster</li>
                    <li>Tighter stops at structure</li>
                    <li>Skip low R:R setups entirely</li>
                  </ul>
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå The Expectancy Killer</div>
                <h4>Taking Profits Too Early</h4>
                <p>Most traders cut winners at +1R and let losers run to -1R.</p>
                <p><strong>Result:</strong> Even with 60% accuracy, expectancy is ZERO.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Minimum 2:1 R:R on every trade
                  <ul>
                    <li>Scale out: Take 50% at 2R, let 50% run to 4R+</li>
                    <li>Average winner: 3R</li>
                    <li>Average loser: -1R</li>
                    <li><strong>Result:</strong> Positive expectancy even at 40% accuracy</li>
                  </ul>
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìñ Related Education</h4>
                <p>For deep dive into expectancy optimization:</p>
                <ul>
                  <li><a href="/curriculum/beginner/09-position-sizing.html">Article #9: Position Sizing Science</a></li>
                  <li><a href="/curriculum/intermediate/26-trade-journal-mastery.html">Article #26: Performance Tracking</a></li>
                  <li><a href="/curriculum/advanced/39-performance-attribution.html">Article #39: Performance Attribution</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 7: Drawdown Recovery Calculator -->
  <section class="wrap" id="drawdown" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">07</div>
        <div>
          <h2 class="headline md" style="margin:0">üìâ Drawdown Recovery Calculator</h2>
          <p class="calc-tagline">Down 50%? You need +100% just to break even. This is why risk management isn't optional‚Äîit's survival.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Recovery Reality</button>
          <button>Prevention Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Starting Balance ($)</label>
                  <input type="number" id="dd-start" class="calc-input" value="10000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Current Balance ($)</label>
                  <input type="number" id="dd-current" class="calc-input" value="7000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Average Monthly Return (%)</label>
                  <input type="number" id="dd-monthly-return" class="calc-input" value="3" min="0.1" max="50" step="0.1">
                  <span class="input-hint">Realistic expectation: 2-5%</span>
                </div>

                <button class="btn btn-primary" onclick="calculateDrawdown()">Calculate Recovery</button>
                <button class="btn btn-secondary" onclick="loadDrawdownExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="dd-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Recovery Analysis</h4>
                  <div class="result-item large">
                    <span class="result-label">Drawdown</span>
                    <span class="result-value" id="dd-pct">-</span>
                  </div>
                  <div id="dd-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Gain Needed</span>
                    <span class="result-value" id="dd-gain-needed">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Months to Recover</span>
                    <span class="result-value" id="dd-months">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Dollar Loss</span>
                    <span class="result-value" id="dd-loss">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>‚ö†Ô∏è The Asymmetry</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Losses hurt exponentially more than gains help. A 50% loss requires a 100% gain to recover. This is why drawdown prevention is critical.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Drawdown Recovery Is Exponentially Harder</h3>

              <p>Most traders underestimate how devastating drawdowns are. Math is brutal: the bigger your drawdown, the exponentially harder it becomes to recover.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Brutal Math</h4>
                <p><strong>10% loss ‚Üí Need 11% gain to recover</strong></p>
                <p><strong>20% loss ‚Üí Need 25% gain to recover</strong></p>
                <p><strong>30% loss ‚Üí Need 43% gain to recover</strong></p>
                <p><strong>50% loss ‚Üí Need 100% gain to recover</strong></p>
                <p><strong>70% loss ‚Üí Need 233% gain to recover (career-ending)</strong></p>
              </div>

              <h4>Real Example: Two Traders</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Trader A: Controlled Drawdown</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Started: $10,000</li>
                    <li>Max drawdown: -15% ($8,500)</li>
                    <li>Recovery needed: +17.6%</li>
                    <li><strong>3 months @ 5%/month = RECOVERED</strong></li>
                  </ul>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Trader B: Massive Drawdown</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Started: $10,000</li>
                    <li>Max drawdown: -50% ($5,000)</li>
                    <li>Recovery needed: +100%</li>
                    <li><strong>18 months @ 5%/month = RECOVERED</strong></li>
                  </ul>
                  <p style="margin-top:1rem"><strong>Lost 15 months due to poor risk management</strong></p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>‚úì Professional Standard</h4>
                <p>Institutional traders get FIRED at -20% drawdown. Why? Because recovering is too expensive and time-consuming. Your capital has opportunity cost.</p>
              </div>
            </div>
          </div>

          <!-- Recovery Reality Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Recovery Timeline Reality Check</h3>

              <p>Even with solid monthly returns, drawdown recovery takes TIME. The bigger the hole, the longer you're stuck digging out instead of making new profits.</p>

              <h4>Recovery Time @ Different Return Rates</h4>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Drawdown</th>
                    <th>@ 3%/month</th>
                    <th>@ 5%/month</th>
                    <th>@ 10%/month</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>-10%</td>
                    <td class="good">4 months</td>
                    <td class="good">2 months</td>
                    <td class="good">1 month</td>
                  </tr>
                  <tr>
                    <td>-20%</td>
                    <td class="warn">8 months</td>
                    <td class="good">5 months</td>
                    <td class="good">2 months</td>
                  </tr>
                  <tr>
                    <td>-30%</td>
                    <td class="bad">13 months</td>
                    <td class="warn">8 months</td>
                    <td class="warn">4 months</td>
                  </tr>
                  <tr>
                    <td>-50%</td>
                    <td class="bad">24 months</td>
                    <td class="bad">15 months</td>
                    <td class="warn">7 months</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è Reality Check</h4>
                <p>Notice how even at 10%/month (which is EXCEPTIONAL), a 50% drawdown still takes 7 months to recover. During those 7 months, you're making ZERO new profits‚Äîjust clawing back to breakeven.</p>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Opportunity Cost</h4>
                  <p>While you're recovering from a 50% drawdown, a trader who stayed at -10% max is making NEW profits. Drawdown doesn't just cost money‚Äîit costs TIME and OPPORTUNITY.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Prevention Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Drawdown Prevention Strategies</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Max Daily Drawdown Rule</h4>
                  <p>Stop trading for the day after -2% account loss. No exceptions.</p>
                  <p><strong>Why it works:</strong> Prevents emotional revenge trading from turning a bad day into a career-ending week.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Max Weekly Drawdown Rule</h4>
                  <p>Stop trading for the week after -5% account loss.</p>
                  <p><strong>Why it works:</strong> Forces you to reset, analyze what's wrong, and come back fresh instead of digging deeper.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Position Sizing Scaling</h4>
                  <p>After any drawdown > 10%, reduce position size by 50% until you recover to within 5% of peak.</p>
                  <p><strong>Why it works:</strong> Smaller positions = slower recovery but prevents catastrophic losses from continuing.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Portfolio Heat Limits</h4>
                  <p>Never have more than 6-8% total portfolio risk across all open positions.</p>
                  <p><strong>Why it works:</strong> Even if every trade stops out simultaneously (rare but possible), you survive.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ The Best Recovery Strategy?</h4>
                <p><strong>Don't have a big drawdown in the first place.</strong></p>
                <p>Professional traders obsess over drawdown PREVENTION, not recovery. Cut losses aggressively, size conservatively, and respect your max loss rules.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 8: Position Scaling Calculator -->
  <section class="wrap" id="scaling" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">08</div>
        <div>
          <h2 class="headline md" style="margin:0">üìä Position Scaling Calculator</h2>
          <p class="calc-tagline">Want to add to winners? Do it wrong and you'll turn a 3R winner into a 0.5R loser. Math doesn't care about your feelings.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Scaling Science</button>
          <button>Common Mistakes</button>
          <button>Pro Strategies</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Initial Entry Price ($)</label>
                  <input type="number" id="scale-entry1" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Initial Position Size (shares)</label>
                  <input type="number" id="scale-size1" class="calc-input" value="100" min="1" step="1">
                </div>

                <div class="form-group">
                  <label>Scale-In Price ($)</label>
                  <input type="number" id="scale-entry2" class="calc-input" value="105" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Additional Size (shares)</label>
                  <input type="number" id="scale-size2" class="calc-input" value="50" min="1" step="1">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="scale-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculateScaling()">Calculate Scaling</button>
                <button class="btn btn-secondary" onclick="loadScalingExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="scale-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Scaling Analysis</h4>
                  <div class="result-item large">
                    <span class="result-label">Total P&L</span>
                    <span class="result-value" id="scale-total-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Average Entry</span>
                    <span class="result-value" id="scale-avg-entry">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Position</span>
                    <span class="result-value" id="scale-total-size">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">P&L Per Share</span>
                    <span class="result-value" id="scale-pl-per-share">-</span>
                  </div>
                  <div id="scale-verdict" class="verdict-box" style="margin:1rem 0"></div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Scaling Insight</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Scaling in raises your average entry price. Only scale if the move justifies paying up. Otherwise, you're just increasing cost basis without proportional upside.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Scaling Science Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Science of Position Scaling</h3>

              <p>Scaling into positions can amplify wins‚Äîor catastrophically destroy good trades. The difference is <strong>WHEN and HOW</strong> you scale.</p>

              <div class="callout callout-info">
                <h4>üíé The Golden Rule</h4>
                <p><strong>Only scale into WINNERS after they've proven themselves.</strong></p>
                <p>Never scale into losers hoping for a reversal. That's called "averaging down" and it's how retail traders blow up.</p>
              </div>

              <h4>Real Example: Good vs Bad Scaling</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Professional Scaling</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Entry 1: $100 √ó 100 shares</li>
                    <li>Stock moves to $105 (+5%)</li>
                    <li>Entry 2: $105 √ó 50 shares</li>
                    <li>Exit: $115</li>
                    <li><strong>Result: $1,750 profit</strong></li>
                  </ul>
                  <p style="margin-top:1rem">Scaled AFTER confirmation. Winner got bigger.</p>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Retail Averaging Down</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Entry 1: $100 √ó 100 shares</li>
                    <li>Stock drops to $95 (-5%)</li>
                    <li>Entry 2: $95 √ó 100 shares (MORE risk!)</li>
                    <li>Stop out: $90</li>
                    <li><strong>Result: -$1,500 loss</strong></li>
                  </ul>
                  <p style="margin-top:1rem">Scaled into a loser. Small loss became catastrophic.</p>
                </div>
              </div>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Trap</h4>
                <p>Retail traders scale to "lower their average entry." This increases risk on losing trades while hoping for a reversal that rarely comes. Professionals scale to INCREASE exposure on proven winners.</p>
              </div>
            </div>
          </div>

          <!-- Common Mistakes Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Common Scaling Mistakes</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #1</div>
                <h4>Scaling Too Soon</h4>
                <p>Adding immediately after entry without confirmation.</p>
                <p><strong>Problem:</strong> You're doubling down before the trade proves itself. If it reverses, you've got 2X the loss.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Wait for price to move at least 1R (one risk unit) in your favor before scaling.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #2</div>
                <h4>Scaling Equal Sizes</h4>
                <p>Adding the same size at each level: 100 shares, then 100, then 100.</p>
                <p><strong>Problem:</strong> Later entries carry same weight as early entries. Your average entry climbs too fast.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Scale smaller amounts. Example: 100 shares, then 50, then 25 (pyramid structure).
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #3</div>
                <h4>Not Adjusting Stop Loss</h4>
                <p>Add to position but keep stop at original entry level.</p>
                <p><strong>Problem:</strong> If stopped out, your entire position (including scale-ins) takes full loss from your average entry.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Trail stop up as position moves in your favor. Lock in gains on initial entry.
                </div>
              </div>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Math Reality</h4>
                <p>Every scale-in raises your average entry price and increases capital at risk. Make sure the setup still has room to run‚Äîdon't chase.</p>
              </div>
            </div>
          </div>

          <!-- Pro Strategies Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Scaling Strategies</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 1-2-3 Pyramid</h4>
                  <p><strong>Structure:</strong></p>
                  <ul>
                    <li>Entry 1: Full position (e.g., 100 shares)</li>
                    <li>Entry 2 @ +1R: Half size (50 shares)</li>
                    <li>Entry 3 @ +2R: Quarter size (25 shares)</li>
                  </ul>
                  <p>This keeps your average entry low while adding exposure to proven winners.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The Breakout Scale</h4>
                  <p>Start with 50% position at breakout. Add 25% on first retest of breakout level. Add final 25% on confirmation of trend.</p>
                  <p><strong>Why it works:</strong> Reduces risk if breakout fails, but still captures move if it works.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The Pilot Position</h4>
                  <p>Enter with 25-33% of intended size as "pilot position." If it works, scale to full size. If not, small loss.</p>
                  <p><strong>Best for:</strong> High conviction but uncertain timing. Lets price action guide you.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>‚úì Professional Rules</h4>
                <ul>
                  <li><strong>Never</strong> scale into a losing position</li>
                  <li><strong>Always</strong> reduce size with each scale-in (pyramid shape)</li>
                  <li><strong>Trail stops</strong> as position grows to protect initial entry</li>
                  <li><strong>Have a plan</strong> before entering: where will you scale, how much, and why?</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 9: Slippage Reality Check -->
  <section class="wrap" id="slippage" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">09</div>
        <div>
          <h2 class="headline md" style="margin:0">‚ö° Slippage Reality Check</h2>
          <p class="calc-tagline">You planned for $100 profit, but slippage and spreads ate $15. Now you need to be right MORE often just to break even.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Hidden Costs</button>
          <button>Impact Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Target Entry Price ($)</label>
                  <input type="number" id="slip-target-entry" class="calc-input" value="100.00" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Actual Entry Price ($)</label>
                  <input type="number" id="slip-actual-entry" class="calc-input" value="100.15" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Target Exit Price ($)</label>
                  <input type="number" id="slip-target-exit" class="calc-input" value="105.00" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Actual Exit Price ($)</label>
                  <input type="number" id="slip-actual-exit" class="calc-input" value="104.80" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size (shares)</label>
                  <input type="number" id="slip-size" class="calc-input" value="100" min="1" step="1">
                </div>

                <button class="btn btn-primary" onclick="calculateSlippage()">Calculate Impact</button>
                <button class="btn btn-secondary" onclick="loadSlippageExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="slip-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Slippage Impact</h4>
                  <div class="result-item large">
                    <span class="result-label">Total Slippage Cost</span>
                    <span class="result-value" id="slip-total">-</span>
                  </div>
                  <div id="slip-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Planned P&L</span>
                    <span class="result-value" id="slip-planned-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Actual P&L</span>
                    <span class="result-value" id="slip-actual-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Slippage %</span>
                    <span class="result-value" id="slip-pct">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° The Hidden Tax</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Slippage is the invisible tax on every trade. Market orders, wide spreads, and low liquidity can destroy edge before you even realize it.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Hidden Costs Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Hidden Cost of Slippage</h3>

              <p>Slippage is the difference between your expected price and actual execution price. It seems small per trade, but compounds to devastate your edge over time.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Brutal Reality</h4>
                <p>Slippage of just 0.1% per trade (entry + exit = 0.2% round trip) means:</p>
                <ul>
                  <li>100 trades = -2% account drag</li>
                  <li>500 trades = -10% account drag</li>
                  <li>1,000 trades = -20% account drag</li>
                </ul>
                <p><strong>Your strategy might be profitable, but slippage makes it a loser.</strong></p>
              </div>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Limit Orders (Patient Trader)</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Target: $100.00</li>
                    <li>Filled: $100.00</li>
                    <li>Slippage: $0.00</li>
                    <li><strong>Edge preserved</strong></li>
                  </ul>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Market Orders (Impatient Trader)</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Target: $100.00</li>
                    <li>Filled: $100.20</li>
                    <li>Slippage: $0.20 (0.2%)</li>
                    <li><strong>Edge eroded</strong></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Impact Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>How Slippage Destroys Edge</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Example: Scalping Strategy</h4>
                  <p><strong>Strategy edge:</strong> 0.3% per trade</p>
                  <p><strong>Slippage:</strong> 0.15% entry + 0.15% exit = 0.3%</p>
                  <p><strong>Net edge:</strong> 0.3% - 0.3% = ZERO</p>
                  <p>Profitable strategy becomes breakeven due to slippage alone.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>‚úì Reducing Slippage</h4>
                <ul>
                  <li><strong>Use limit orders</strong> whenever possible</li>
                  <li><strong>Trade liquid instruments</strong> (tighter spreads)</li>
                  <li><strong>Avoid market orders</strong> during volatile periods</li>
                  <li><strong>Check bid-ask spread</strong> before entering</li>
                  <li><strong>Trade during active hours</strong> (avoid pre-market/after-hours)</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 10: R-Multiple Tracker -->
  <section class="wrap" id="r-multiple" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">10</div>
        <div>
          <h2 class="headline md" style="margin:0">üìà R-Multiple Performance Tracker</h2>
          <p class="calc-tagline">Dollar P&L lies. R-multiples tell the truth. A $1,000 win means nothing if you risked $5,000 to get it.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why R-Multiples</button>
          <button>Performance Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="rm-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Stop Loss ($)</label>
                  <input type="number" id="rm-stop" class="calc-input" value="95" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="rm-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size (shares)</label>
                  <input type="number" id="rm-size" class="calc-input" value="100" min="1" step="1">
                </div>

                <button class="btn btn-primary" onclick="calculateRMultiple()">Calculate R-Multiple</button>
                <button class="btn btn-secondary" onclick="loadRMultipleExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="rm-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">R-Multiple Analysis</h4>
                  <div class="result-item large">
                    <span class="result-label">R-Multiple</span>
                    <span class="result-value" id="rm-value">-</span>
                  </div>
                  <div id="rm-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Initial Risk (1R)</span>
                    <span class="result-value" id="rm-risk">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Actual P&L</span>
                    <span class="result-value" id="rm-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Reward:Risk</span>
                    <span class="result-value" id="rm-ratio">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° R-Multiple = Truth</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">R-multiples normalize performance. They show how much you made relative to what you risked, making trades comparable regardless of size.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why R-Multiples Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why R-Multiples Matter More Than Dollars</h3>

              <p>Dollar P&L is misleading. R-multiples show the <strong>quality</strong> of your trades by measuring profit relative to risk.</p>

              <div class="callout callout-info">
                <h4>üíé What is R?</h4>
                <p><strong>R = Your initial risk per trade (distance from entry to stop)</strong></p>
                <p>If you enter at $100 with stop at $95, your 1R = $5 per share.</p>
                <p>If you exit at $110, you made $10 per share = 2R</p>
              </div>

              <h4>Real Example: Same $ P&L, Different Quality</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Trade A: High Quality</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Risk: $500 (1R)</li>
                    <li>Profit: $1,000</li>
                    <li><strong>R-Multiple: +2R</strong></li>
                    <li>Quality: Excellent</li>
                  </ul>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Trade B: Low Quality</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Risk: $2,000 (1R)</li>
                    <li>Profit: $1,000</li>
                    <li><strong>R-Multiple: +0.5R</strong></li>
                    <li>Quality: Poor</li>
                  </ul>
                </div>
              </div>

              <p><strong>Both made $1,000, but Trade A is 4X better quality.</strong> R-multiples reveal this truth.</p>
            </div>
          </div>

          <!-- Performance Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>R-Multiple Performance Standards</h3>

              <div class="callout callout-success">
                <h4>‚úì Professional Benchmarks</h4>
                <ul>
                  <li><strong>+3R or higher:</strong> Elite trade</li>
                  <li><strong>+2R to +3R:</strong> Good trade</li>
                  <li><strong>+1R to +2R:</strong> Acceptable trade</li>
                  <li><strong>0R to +1R:</strong> Marginal trade</li>
                  <li><strong>-1R:</strong> Proper loss (followed plan)</li>
                  <li><strong>Below -1R:</strong> Disaster (didn't follow stop)</li>
                </ul>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Average R-Multiple Target</h4>
                  <p><strong>Profitable traders average +0.5R to +1R per trade</strong></p>
                  <p>This might sound small, but over 100 trades:</p>
                  <ul>
                    <li>+0.5R average √ó 100 trades = +50R total</li>
                    <li>If 1R = $100, that's $5,000 profit</li>
                  </ul>
                  <p>Consistency beats home runs.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 11: Break-Even Recovery -->
  <section class="wrap" id="breakeven" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">11</div>
        <div>
          <h2 class="headline md" style="margin:0">üéØ Break-Even Recovery Calculator</h2>
          <p class="calc-tagline">After fees, slippage, and commissions, your "winning" trade needs to move how far just to break even? The answer will surprise you.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>The Break-Even Reality</button>
          <button>Cost Reduction</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="be-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size (shares)</label>
                  <input type="number" id="be-size" class="calc-input" value="100" min="1" step="1">
                </div>

                <div class="form-group">
                  <label>Commission Per Trade ($)</label>
                  <input type="number" id="be-commission" class="calc-input" value="5" min="0" step="0.1">
                </div>

                <div class="form-group">
                  <label>Fee Rate (%) - SEC/Exchange</label>
                  <input type="number" id="be-fee-rate" class="calc-input" value="0.1" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Expected Slippage Per Side (%)</label>
                  <input type="number" id="be-slippage" class="calc-input" value="0.1" min="0" step="0.01">
                  <span class="input-hint">Typical: 0.05-0.2%</span>
                </div>

                <button class="btn btn-primary" onclick="calculateBreakEven()">Calculate Break-Even</button>
                <button class="btn btn-secondary" onclick="loadBreakEvenExample()">Load Example</button>
              </div>

              <div class="calc-results">
                <div id="be-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Break-Even Analysis</h4>
                  <div class="result-item large">
                    <span class="result-label">Break-Even Price</span>
                    <span class="result-value" id="be-price">-</span>
                  </div>
                  <div id="be-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Move Required</span>
                    <span class="result-value" id="be-move">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Costs</span>
                    <span class="result-value" id="be-total-cost">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Cost Breakdown</span>
                    <span class="result-value" id="be-breakdown">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>‚ö†Ô∏è The Hidden Hurdle</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Every trade starts at a loss due to fees, commissions, and slippage. You need price movement just to break even before making any profit.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- The Break-Even Reality Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Break-Even Hurdle Nobody Talks About</h3>

              <p>Most traders focus on profit targets but ignore the hidden hurdle: you start EVERY trade in the red due to costs.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è Example: $10,000 Position</h4>
                <ul>
                  <li>Entry commission: $5</li>
                  <li>Exit commission: $5</li>
                  <li>SEC fees: $10</li>
                  <li>Entry slippage (0.1%): $10</li>
                  <li>Exit slippage (0.1%): $10</li>
                  <li><strong>Total costs: $40</strong></li>
                </ul>
                <p><strong>You need $40 profit just to break even.</strong> On a $10,000 position at $100/share, that's $0.40 per share or 0.4% move required.</p>
              </div>

              <h4>Impact on Different Trading Styles</h4>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Style</th>
                    <th>Typical Target</th>
                    <th>Break-Even Cost</th>
                    <th>Impact</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Scalping</td>
                    <td>0.3%</td>
                    <td class="bad">0.25%</td>
                    <td class="bad">Eats 83% of edge</td>
                  </tr>
                  <tr>
                    <td>Day Trading</td>
                    <td>1%</td>
                    <td class="warn">0.3%</td>
                    <td class="warn">Eats 30% of edge</td>
                  </tr>
                  <tr>
                    <td>Swing Trading</td>
                    <td>5%</td>
                    <td class="good">0.3%</td>
                    <td class="good">Eats 6% of edge</td>
                  </tr>
                  <tr>
                    <td>Position Trading</td>
                    <td>20%</td>
                    <td class="good">0.3%</td>
                    <td class="good">Eats 1.5% of edge</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-info">
                <h4>üí° The Math Doesn't Lie</h4>
                <p>Shorter timeframes = costs eat larger % of edge. This is why most scalpers lose and swing traders have better odds.</p>
              </div>
            </div>
          </div>

          <!-- Cost Reduction Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Reducing Your Break-Even Hurdle</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Use Zero-Commission Brokers</h4>
                  <p>Switch from $5-10/trade commissions to $0. On 100 trades/year, that's $500-1,000 saved.</p>
                  <p><strong>Caveat:</strong> Watch for wider spreads and payment for order flow practices.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Use Limit Orders</h4>
                  <p>Market orders guarantee slippage. Limit orders eliminate it (but might not fill).</p>
                  <p><strong>Trade-off:</strong> Better fills vs. missed opportunities. Use limits when possible.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Trade Liquid Instruments</h4>
                  <p>Tighter bid-ask spreads = less slippage. Compare:</p>
                  <ul>
                    <li>SPY spread: $0.01 (0.001%)</li>
                    <li>Small-cap stock spread: $0.10 (2%)</li>
                  </ul>
                  <p>Liquidity matters more than most realize.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ Bottom Line</h4>
                <p>Your break-even hurdle determines which strategies are viable. High-frequency strategies need institutional-level cost structures to work. Retail traders should focus on longer timeframes where costs matter less.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Info Section -->
  <section class="wrap" style="margin:4rem auto">
    <div class="card featured">
      <h2 class="headline md text-center">About These Calculators</h2>
      <div class="grid three-col" style="margin-top:2rem">
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üîí</div>
          <h4>Privacy First</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">All calculations happen locally in your browser. No data is sent to any server. Your trading information stays private.</p>
        </div>
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üìä</div>
          <h4>Professional Grade</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">Industry-standard formulas used by professional traders, prop firms, and hedge funds worldwide.</p>
        </div>
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üéì</div>
          <h4>Educational Focus</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">Not just calculators‚Äîeach one teaches you the WHY behind the math. Learn the principles that separate pros from gamblers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Articles -->
  <section class="wrap" style="margin:4rem auto">
    <div class="card">
      <h3 class="headline sm" style="margin:0 0 1.5rem 0">üìö Related Education</h3>
      <div class="grid auto-300">
        <a href="/curriculum/beginner/09-position-sizing.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #9</div>
            <h4>Position Sizing Science</h4>
            <p class="note">Learn Kelly Criterion, fixed fractional, and ATR-based position sizing</p>
          </div>
        </a>
        <a href="/curriculum/beginner/10-stop-losses.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #10</div>
            <h4>Stop Losses & ATR</h4>
            <p class="note">Structure-based stops, ATR multiples, and the 2R rule</p>
          </div>
        </a>
        <a href="/curriculum/intermediate/25-advanced-risk-management.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #25</div>
            <h4>Advanced Risk Management</h4>
            <p class="note">Portfolio heat, correlation risk, and professional trade management</p>
          </div>
        </a>
      </div>
    </div>
  </section>

</main>

<footer class="sp-footer">
  <div class="wrap">
    <div>¬© <span id="year"></span> Signal Pilot Labs, Inc. All rights reserved.</div>
    
  </div>
</footer>

<!-- SignalPilot Theme Switcher (load first) -->
<script src="/assets/signalpilot-theme.js" defer></script>
<script src="/assets/edu.js?v=1761798768" defer></script>
<script src="/assets/edu-enhanced.js" defer></script>
<script src="/assets/chatbot.js" defer></script>

<script>
// Position Size Calculator
function calculatePositionSize() {
  const balance = parseFloat(document.getElementById('ps-balance').value);
  const riskPct = parseFloat(document.getElementById('ps-risk-pct').value);
  const entry = parseFloat(document.getElementById('ps-entry').value);
  const stop = parseFloat(document.getElementById('ps-stop').value);

  // Input validation
  if (balance <= 0) {
    alert('‚ö†Ô∏è Account balance must be greater than 0');
    return;
  }
  if (riskPct <= 0 || riskPct > 100) {
    alert('‚ö†Ô∏è Risk percentage must be between 0 and 100%');
    return;
  }
  if (riskPct > 10) {
    if (!confirm('‚ö†Ô∏è WARNING: Risking more than 10% per trade is extremely dangerous and can lead to account destruction. Professional traders risk 1-2%.\n\nAre you sure you want to continue?')) {
      return;
    }
  }
  if (entry <= 0 || stop <= 0) {
    alert('‚ö†Ô∏è Entry and stop prices must be greater than 0');
    return;
  }
  if (entry === stop) {
    alert('‚ö†Ô∏è Entry and stop prices cannot be the same');
    return;
  }

  const dollarRisk = balance * (riskPct / 100);
  const riskPerUnit = Math.abs(entry - stop);
  const positionSize = dollarRisk / riskPerUnit;
  const totalValue = positionSize * entry;

  document.getElementById('ps-size').textContent = positionSize.toFixed(2) + ' shares';
  document.getElementById('ps-dollar-risk').textContent = '$' + dollarRisk.toFixed(2);
  document.getElementById('ps-risk-unit').textContent = '$' + riskPerUnit.toFixed(2);
  document.getElementById('ps-total-value').textContent = '$' + totalValue.toFixed(2);
  document.getElementById('ps-result').style.display = 'block';
}

// Risk/Reward Calculator
function calculateRiskReward() {
  const entry = parseFloat(document.getElementById('rr-entry').value);
  const stop = parseFloat(document.getElementById('rr-stop').value);
  const target = parseFloat(document.getElementById('rr-target').value);

  const risk = Math.abs(entry - stop);
  const reward = Math.abs(target - entry);
  const ratio = reward / risk;
  const minWinRate = (1 / (1 + ratio)) * 100;

  document.getElementById('rr-ratio').textContent = '1:' + ratio.toFixed(2);
  document.getElementById('rr-risk').textContent = '$' + risk.toFixed(2) + ' per share';
  document.getElementById('rr-reward').textContent = '$' + reward.toFixed(2) + ' per share';

  const resultBox = document.getElementById('rr-result');
  resultBox.style.display = 'block';

  // Verdict
  const verdictBox = document.getElementById('rr-verdict');
  let verdictHTML = '';
  if (ratio >= 3) {
    verdictHTML = '<div class="verdict good">‚úì Excellent R:R - Professional grade setup</div>';
  } else if (ratio >= 2) {
    verdictHTML = '<div class="verdict good">‚úì Good R:R - Meets minimum standard</div>';
  } else if (ratio >= 1.5) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Marginal R:R - Consider waiting for better entry</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå Poor R:R - Skip this trade</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  // Color code ratio
  const ratioEl = document.getElementById('rr-ratio');
  if (ratio >= 2) {
    ratioEl.style.color = '#3ed598';
  } else if (ratio >= 1.5) {
    ratioEl.style.color = '#f9a23c';
  } else {
    ratioEl.style.color = '#ff6b6b';
  }
}

// Profit/Loss Calculator
function calculateProfitLoss() {
  const type = document.getElementById('pl-type').value;
  const entry = parseFloat(document.getElementById('pl-entry').value);
  const exit = parseFloat(document.getElementById('pl-exit').value);
  const size = parseFloat(document.getElementById('pl-size').value);

  let pl;
  if (type === 'long') {
    pl = (exit - entry) * size;
  } else {
    pl = (entry - exit) * size;
  }

  const plPct = (pl / (entry * size)) * 100;
  const priceChange = ((exit - entry) / entry) * 100;

  document.getElementById('pl-amount').textContent = '$' + pl.toFixed(2);
  document.getElementById('pl-amount').style.color = pl >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('pl-pct').textContent = (pl >= 0 ? '+' : '') + plPct.toFixed(2) + '%';
  document.getElementById('pl-pct').style.color = pl >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('pl-price-change').textContent = (priceChange >= 0 ? '+' : '') + priceChange.toFixed(2) + '%';
  document.getElementById('pl-r-multiple').textContent = 'Calculate using Position Size tool';

  document.getElementById('pl-result').style.display = 'block';
}

// Fee/Commission Calculator
function calculateFees() {
  const entry = parseFloat(document.getElementById('fee-entry').value);
  const exit = parseFloat(document.getElementById('fee-exit').value);
  const size = parseFloat(document.getElementById('fee-size').value);
  const commission = parseFloat(document.getElementById('fee-commission').value);
  const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100;

  const entryCost = commission + (entry * size * feeRate);
  const exitCost = commission + (exit * size * feeRate);
  const totalFees = entryCost + exitCost;

  const grossPL = (exit - entry) * size;
  const netPL = grossPL - totalFees;

  const breakEvenMove = totalFees / size;
  const breakEvenPrice = entry + breakEvenMove;

  document.getElementById('fee-total').textContent = '$' + totalFees.toFixed(2);
  document.getElementById('fee-entry-cost').textContent = '$' + entryCost.toFixed(2);
  document.getElementById('fee-exit-cost').textContent = '$' + exitCost.toFixed(2);

  document.getElementById('fee-gross-pl').textContent = '$' + grossPL.toFixed(2);
  document.getElementById('fee-gross-pl').style.color = grossPL >= 0 ? '#3ed598' : '#ff6b6b';

  const netPLEl = document.getElementById('fee-net-pl');
  netPLEl.textContent = '$' + netPL.toFixed(2);
  netPLEl.style.color = netPL >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('fee-breakeven').textContent = '$' + breakEvenPrice.toFixed(2) + ' (+' + ((breakEvenMove / entry) * 100).toFixed(2) + '%)';

  document.getElementById('fee-result').style.display = 'block';
}

// Compound Growth Calculator
function calculateCompoundGrowth() {
  const startBalance = parseFloat(document.getElementById('cg-balance').value);
  const monthlyReturn = parseFloat(document.getElementById('cg-return').value) / 100;
  const months = parseInt(document.getElementById('cg-months').value);
  const monthlyAddition = parseFloat(document.getElementById('cg-addition').value);

  // Input validation
  if (startBalance <= 0) {
    alert('‚ö†Ô∏è Starting balance must be greater than 0');
    return;
  }
  if (monthlyReturn < -100) {
    alert('‚ö†Ô∏è Monthly return cannot be less than -100%');
    return;
  }
  if (monthlyReturn > 0.5) {
    if (!confirm('‚ö†Ô∏è WARNING: Monthly returns above 50% are extremely rare and unrealistic for sustained periods. Even the best hedge funds average 2-5% monthly.\n\nAre you sure you want to continue?')) {
      return;
    }
  }
  if (months <= 0 || months > 600) {
    alert('‚ö†Ô∏è Months must be between 1 and 600 (50 years)');
    return;
  }

  let balance = startBalance;
  for (let i = 0; i < months; i++) {
    balance = balance * (1 + monthlyReturn) + monthlyAddition;
  }

  const totalAdded = monthlyAddition * months;
  const totalGain = balance - startBalance - totalAdded;
  const totalReturnPct = ((balance - startBalance) / startBalance) * 100;

  // Annualized return
  const years = months / 12;
  const annualizedReturn = (Math.pow(balance / startBalance, 1 / years) - 1) * 100;

  document.getElementById('cg-final').textContent = '$' + balance.toFixed(2);
  document.getElementById('cg-gain').textContent = '$' + totalGain.toFixed(2);
  document.getElementById('cg-gain').style.color = totalGain >= 0 ? '#3ed598' : '#ff6b6b';
  document.getElementById('cg-added').textContent = '$' + totalAdded.toFixed(2);
  document.getElementById('cg-pct').textContent = '+' + totalReturnPct.toFixed(2) + '%';
  document.getElementById('cg-annual').textContent = annualizedReturn.toFixed(2) + '% per year';
  document.getElementById('cg-result').style.display = 'block';
}

// Load Example Functions for Calculators 1-5
function loadPositionSizeExample() {
  document.getElementById('ps-balance').value = 10000;
  document.getElementById('ps-risk-pct').value = 2;
  document.getElementById('ps-entry').value = 50;
  document.getElementById('ps-stop').value = 48;
  calculatePositionSize();
}

function loadRiskRewardExample() {
  document.getElementById('rr-entry').value = 100;
  document.getElementById('rr-stop').value = 95;
  document.getElementById('rr-target').value = 115;
  calculateRiskReward();
}

function loadProfitLossExample() {
  document.getElementById('pl-type').value = 'long';
  document.getElementById('pl-entry').value = 100;
  document.getElementById('pl-exit').value = 115;
  document.getElementById('pl-size').value = 100;
  calculateProfitLoss();
}

function loadFeesExample() {
  document.getElementById('fee-entry').value = 100;
  document.getElementById('fee-exit').value = 105;
  document.getElementById('fee-size').value = 100;
  document.getElementById('fee-commission').value = 5;
  document.getElementById('fee-rate').value = 0.1;
  calculateFees();
}

function loadCompoundGrowthExample() {
  document.getElementById('cg-balance').value = 10000;
  document.getElementById('cg-return').value = 5;
  document.getElementById('cg-months').value = 12;
  document.getElementById('cg-addition').value = 500;
  calculateCompoundGrowth();
}

// Expectancy Calculator (Calculator 6)
function calculateExpectancy() {
  const totalWins = parseFloat(document.getElementById('exp-total-wins').value) || 0;
  const totalLosses = parseFloat(document.getElementById('exp-total-losses').value) || 0;
  const numTrades = parseInt(document.getElementById('exp-num-trades').value) || 1;

  if (numTrades === 0) {
    alert('Number of trades must be greater than 0');
    return;
  }

  const netProfit = totalWins - totalLosses;
  const expectancy = netProfit / numTrades;
  const profitFactor = totalLosses > 0 ? totalWins / totalLosses : totalWins;

  // Calculate average R (assuming each trade risked $100 for simplicity)
  const avgRisk = 100;
  const avgR = expectancy / avgRisk;

  document.getElementById('exp-value').textContent = '$' + expectancy.toFixed(2);
  document.getElementById('exp-value').style.color = expectancy >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('exp-pf').textContent = profitFactor.toFixed(2);
  document.getElementById('exp-pf').style.color = profitFactor >= 2 ? '#3ed598' : profitFactor >= 1.5 ? '#f9a23c' : '#ff6b6b';

  document.getElementById('exp-avg-r').textContent = avgR.toFixed(2) + 'R';
  document.getElementById('exp-net').textContent = '$' + netProfit.toFixed(2);
  document.getElementById('exp-net').style.color = netProfit >= 0 ? '#3ed598' : '#ff6b6b';

  // Verdict
  const verdictBox = document.getElementById('exp-verdict');
  let verdictHTML = '';
  if (expectancy > 50) {
    verdictHTML = '<div class="verdict good">üöÄ Elite expectancy - Money printing machine</div>';
  } else if (expectancy > 20) {
    verdictHTML = '<div class="verdict good">‚úì Excellent expectancy - Professional level</div>';
  } else if (expectancy > 0) {
    verdictHTML = '<div class="verdict good">‚úì Positive expectancy - You have an edge</div>';
  } else if (expectancy === 0) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Break-even - No edge, just noise</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå Negative expectancy - Guaranteed to lose money</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('exp-result').style.display = 'block';
}

function loadExpectancyExample() {
  document.getElementById('exp-total-wins').value = 12000;
  document.getElementById('exp-total-losses').value = 4000;
  document.getElementById('exp-num-trades').value = 100;
  calculateExpectancy();
}

// Drawdown Recovery Calculator (Calculator 7)
function calculateDrawdown() {
  const startBalance = parseFloat(document.getElementById('dd-start').value) || 0;
  const currentBalance = parseFloat(document.getElementById('dd-current').value) || 0;
  const monthlyReturn = parseFloat(document.getElementById('dd-monthly-return').value) / 100;

  // Input validation
  if (startBalance <= 0) {
    alert('‚ö†Ô∏è Starting balance must be greater than 0');
    return;
  }
  if (currentBalance < 0) {
    alert('‚ö†Ô∏è Current balance cannot be negative');
    return;
  }
  if (currentBalance > startBalance) {
    alert('‚ö†Ô∏è Current balance cannot be greater than starting balance (that\'s a gain, not a drawdown!)');
    return;
  }
  if (monthlyReturn <= 0) {
    alert('‚ö†Ô∏è Monthly return must be positive to calculate recovery time');
    return;
  }
  if (monthlyReturn > 0.2) {
    if (!confirm('‚ö†Ô∏è WARNING: Monthly returns above 20% are unrealistic for sustained periods. Professional traders average 3-7% monthly.\n\nAre you sure you want to continue?')) {
      return;
    }
  }

  const drawdownPct = ((startBalance - currentBalance) / startBalance) * 100;
  const gainNeeded = ((startBalance - currentBalance) / currentBalance) * 100;
  const dollarLoss = startBalance - currentBalance;

  // Calculate months to recover
  let months = 0;
  let balance = currentBalance;
  while (balance < startBalance && months < 240) {
    balance = balance * (1 + monthlyReturn);
    months++;
  }

  document.getElementById('dd-pct').textContent = '-' + drawdownPct.toFixed(2) + '%';
  document.getElementById('dd-pct').style.color = drawdownPct > 30 ? '#ff6b6b' : drawdownPct > 15 ? '#f9a23c' : '#3ed598';

  document.getElementById('dd-gain-needed').textContent = '+' + gainNeeded.toFixed(2) + '%';
  document.getElementById('dd-months').textContent = months + ' months';
  document.getElementById('dd-months').style.color = months > 12 ? '#ff6b6b' : months > 6 ? '#f9a23c' : '#3ed598';

  document.getElementById('dd-loss').textContent = '-$' + dollarLoss.toFixed(2);
  document.getElementById('dd-loss').style.color = '#ff6b6b';

  // Verdict
  const verdictBox = document.getElementById('dd-verdict');
  let verdictHTML = '';
  if (drawdownPct < 10) {
    verdictHTML = '<div class="verdict good">‚úì Manageable drawdown - Quick recovery possible</div>';
  } else if (drawdownPct < 20) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Significant drawdown - Tighten risk management</div>';
  } else if (drawdownPct < 30) {
    verdictHTML = '<div class="verdict bad">‚ùå Major drawdown - This is serious</div>';
  } else {
    verdictHTML = '<div class="verdict bad">üíÄ Catastrophic drawdown - Account in danger</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('dd-result').style.display = 'block';
}

function loadDrawdownExample() {
  document.getElementById('dd-start').value = 10000;
  document.getElementById('dd-current').value = 7000;
  document.getElementById('dd-monthly-return').value = 3;
  calculateDrawdown();
}

// Position Scaling Calculator (Calculator 8)
function calculateScaling() {
  const entry1 = parseFloat(document.getElementById('scale-entry1').value) || 0;
  const size1 = parseFloat(document.getElementById('scale-size1').value) || 0;
  const entry2 = parseFloat(document.getElementById('scale-entry2').value) || 0;
  const size2 = parseFloat(document.getElementById('scale-size2').value) || 0;
  const exitPrice = parseFloat(document.getElementById('scale-exit').value) || 0;

  const totalSize = size1 + size2;
  const totalCost = (entry1 * size1) + (entry2 * size2);
  const avgEntry = totalCost / totalSize;

  const totalPL = (exitPrice - avgEntry) * totalSize;
  const plPerShare = exitPrice - avgEntry;

  document.getElementById('scale-total-pl').textContent = '$' + totalPL.toFixed(2);
  document.getElementById('scale-total-pl').style.color = totalPL >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('scale-avg-entry').textContent = '$' + avgEntry.toFixed(2);
  document.getElementById('scale-total-size').textContent = totalSize.toFixed(0) + ' shares';
  document.getElementById('scale-pl-per-share').textContent = '$' + plPerShare.toFixed(2);

  // Verdict
  const verdictBox = document.getElementById('scale-verdict');
  let verdictHTML = '';
  const scaledUp = entry2 > entry1;
  if (scaledUp && totalPL > 0) {
    verdictHTML = '<div class="verdict good">‚úì Good scaling - Added to winner successfully</div>';
  } else if (!scaledUp) {
    verdictHTML = '<div class="verdict bad">‚ùå Warning: Scaled into loser (averaging down)</div>';
  } else {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Trade went against you after scaling</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('scale-result').style.display = 'block';
}

function loadScalingExample() {
  document.getElementById('scale-entry1').value = 100;
  document.getElementById('scale-size1').value = 100;
  document.getElementById('scale-entry2').value = 105;
  document.getElementById('scale-size2').value = 50;
  document.getElementById('scale-exit').value = 115;
  calculateScaling();
}

// Slippage Reality Check Calculator (Calculator 9)
function calculateSlippage() {
  const targetEntry = parseFloat(document.getElementById('slip-target-entry').value) || 0;
  const actualEntry = parseFloat(document.getElementById('slip-actual-entry').value) || 0;
  const targetExit = parseFloat(document.getElementById('slip-target-exit').value) || 0;
  const actualExit = parseFloat(document.getElementById('slip-actual-exit').value) || 0;
  const size = parseFloat(document.getElementById('slip-size').value) || 0;

  const entrySlippage = (actualEntry - targetEntry) * size;
  const exitSlippage = (targetExit - actualExit) * size;
  const totalSlippage = entrySlippage + exitSlippage;

  const plannedPL = (targetExit - targetEntry) * size;
  const actualPL = (actualExit - actualEntry) * size;
  const slippagePct = (totalSlippage / Math.abs(plannedPL)) * 100;

  document.getElementById('slip-total').textContent = '-$' + Math.abs(totalSlippage).toFixed(2);
  document.getElementById('slip-total').style.color = '#ff6b6b';

  document.getElementById('slip-planned-pl').textContent = '$' + plannedPL.toFixed(2);
  document.getElementById('slip-actual-pl').textContent = '$' + actualPL.toFixed(2);
  document.getElementById('slip-actual-pl').style.color = actualPL >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('slip-pct').textContent = slippagePct.toFixed(2) + '%';

  // Verdict
  const verdictBox = document.getElementById('slip-verdict');
  let verdictHTML = '';
  if (slippagePct < 2) {
    verdictHTML = '<div class="verdict good">‚úì Low slippage - Acceptable execution</div>';
  } else if (slippagePct < 5) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Moderate slippage - Consider limit orders</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå High slippage - Edge being destroyed</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('slip-result').style.display = 'block';
}

function loadSlippageExample() {
  document.getElementById('slip-target-entry').value = 100.00;
  document.getElementById('slip-actual-entry').value = 100.15;
  document.getElementById('slip-target-exit').value = 105.00;
  document.getElementById('slip-actual-exit').value = 104.80;
  document.getElementById('slip-size').value = 100;
  calculateSlippage();
}

// R-Multiple Tracker Calculator (Calculator 10)
function calculateRMultiple() {
  const entry = parseFloat(document.getElementById('rm-entry').value) || 0;
  const stop = parseFloat(document.getElementById('rm-stop').value) || 0;
  const exit = parseFloat(document.getElementById('rm-exit').value) || 0;
  const size = parseFloat(document.getElementById('rm-size').value) || 0;

  const initialRisk = Math.abs(entry - stop) * size;
  const actualPL = (exit - entry) * size;
  const rMultiple = initialRisk > 0 ? actualPL / initialRisk : 0;
  const rewardRisk = Math.abs(exit - entry) / Math.abs(entry - stop);

  document.getElementById('rm-value').textContent = rMultiple.toFixed(2) + 'R';
  document.getElementById('rm-value').style.color = rMultiple >= 2 ? '#3ed598' : rMultiple >= 1 ? '#76ddff' : rMultiple > 0 ? '#f9a23c' : '#ff6b6b';

  document.getElementById('rm-risk').textContent = '$' + initialRisk.toFixed(2);
  document.getElementById('rm-pl').textContent = '$' + actualPL.toFixed(2);
  document.getElementById('rm-pl').style.color = actualPL >= 0 ? '#3ed598' : '#ff6b6b';
  document.getElementById('rm-ratio').textContent = rewardRisk.toFixed(2) + ':1';

  // Verdict
  const verdictBox = document.getElementById('rm-verdict');
  let verdictHTML = '';
  if (rMultiple >= 3) {
    verdictHTML = '<div class="verdict good">üöÄ Elite trade - +3R or higher</div>';
  } else if (rMultiple >= 2) {
    verdictHTML = '<div class="verdict good">‚úì Good trade - Solid +2R win</div>';
  } else if (rMultiple >= 1) {
    verdictHTML = '<div class="verdict good">‚úì Acceptable - Positive R-multiple</div>';
  } else if (rMultiple > 0) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Marginal trade - Below 1R target</div>';
  } else if (rMultiple >= -1) {
    verdictHTML = '<div class="verdict warn">‚úì Controlled loss - Stopped out properly</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå Disaster - Didn\'t follow stop loss</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('rm-result').style.display = 'block';
}

function loadRMultipleExample() {
  document.getElementById('rm-entry').value = 100;
  document.getElementById('rm-stop').value = 95;
  document.getElementById('rm-exit').value = 110;
  document.getElementById('rm-size').value = 100;
  calculateRMultiple();
}

// Break-Even Recovery Calculator (Calculator 11)
function calculateBreakEven() {
  const entry = parseFloat(document.getElementById('be-entry').value) || 0;
  const size = parseFloat(document.getElementById('be-size').value) || 0;
  const commission = parseFloat(document.getElementById('be-commission').value) || 0;
  const feeRate = parseFloat(document.getElementById('be-fee-rate').value) / 100;
  const slippagePct = parseFloat(document.getElementById('be-slippage').value) / 100;

  const positionValue = entry * size;

  // Calculate costs
  const entryCommission = commission;
  const exitCommission = commission;
  const entryFees = positionValue * feeRate;
  const exitFees = positionValue * feeRate;
  const entrySlippage = positionValue * slippagePct;
  const exitSlippage = positionValue * slippagePct;

  const totalCosts = entryCommission + exitCommission + entryFees + exitFees + entrySlippage + exitSlippage;
  const costPerShare = totalCosts / size;
  const breakEvenPrice = entry + costPerShare;
  const moveRequired = (costPerShare / entry) * 100;

  document.getElementById('be-price').textContent = '$' + breakEvenPrice.toFixed(2);
  document.getElementById('be-move').textContent = '+' + moveRequired.toFixed(2) + '% (+$' + costPerShare.toFixed(2) + '/share)';
  document.getElementById('be-total-cost').textContent = '$' + totalCosts.toFixed(2);
  document.getElementById('be-breakdown').textContent = 'Comm: $' + (entryCommission + exitCommission).toFixed(2) + ' | Fees: $' + (entryFees + exitFees).toFixed(2) + ' | Slip: $' + (entrySlippage + exitSlippage).toFixed(2);

  // Verdict
  const verdictBox = document.getElementById('be-verdict');
  let verdictHTML = '';
  if (moveRequired < 0.5) {
    verdictHTML = '<div class="verdict good">‚úì Low hurdle - Cost structure supports active trading</div>';
  } else if (moveRequired < 1.0) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Moderate hurdle - Best for swing trading</div>';
  } else if (moveRequired < 2.0) {
    verdictHTML = '<div class="verdict bad">‚ùå High hurdle - Scalping/day trading difficult</div>';
  } else {
    verdictHTML = '<div class="verdict bad">üíÄ Extreme hurdle - Costs eating all edge</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('be-result').style.display = 'block';
}

function loadBreakEvenExample() {
  document.getElementById('be-entry').value = 100;
  document.getElementById('be-size').value = 100;
  document.getElementById('be-commission').value = 5;
  document.getElementById('be-fee-rate').value = 0.1;
  document.getElementById('be-slippage').value = 0.1;
  calculateBreakEven();
}

// Set current year
document.getElementById('year').textContent = new Date().getFullYear();

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  });
});
</script>

<style>
/* Calculator Specific Styles */
.calc-header {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.calc-number {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 3rem;
  font-weight: 700;
  color: var(--brand);
  line-height: 1;
  min-width: 70px;
}

.calc-tagline {
  font-size: 1.1rem;
  line-height: 1.6;
  color: var(--muted);
  font-style: italic;
  margin: 0.5rem 0 0 0;
}

.calc-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-top: 1.5rem;
}

@media (max-width: 768px) {
  .calc-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .calc-header {
    flex-direction: column;
    gap: 1rem;
  }

  .calc-number {
    font-size: 2rem;
    min-width: auto;
  }

  .tabs-nav button {
    font-size: 0.85rem;
    padding: 0.6rem 0.8rem;
    min-height: 44px; /* Touch target size */
  }

  .calc-input {
    font-size: 16px; /* Prevents iOS zoom */
    padding: 0.875rem 1rem;
  }

  .result-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .result-item .result-label {
    font-size: 0.85rem;
  }

  .result-item .result-value {
    font-size: 1.4rem;
  }

  .result-item.large .result-value {
    font-size: 1.6rem;
  }

  .btn {
    min-height: 44px; /* Touch target size */
    padding: 0.875rem 1.5rem;
  }

  .comparison-box {
    padding: 1rem;
  }

  .mistake-card,
  .tip-card {
    padding: 1rem;
  }
}

@media (max-width: 480px) {
  .calc-tagline {
    font-size: 0.95rem;
  }

  .tabs-nav {
    flex-wrap: wrap;
  }

  .tabs-nav button {
    flex: 1 1 45%;
    font-size: 0.8rem;
  }
}

.calc-inputs {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.calc-results {
  display: flex;
  flex-direction: column;
}

.form-group {
  display: flex;
  flex-direction: column;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--muted);
}

.calc-input {
  width: 100%;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 8px;
  color: var(--text);
  font-size: 1rem;
  font-family: 'DM Sans', sans-serif;
  transition: all 0.2s ease;
}

.calc-input:focus {
  outline: none;
  border-color: var(--brand);
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 0 3px rgba(91, 138, 255, 0.3);
}

/* Accessibility: Better focus states for keyboard navigation */
button:focus-visible,
.btn:focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(91, 138, 255, 0.2);
}

a:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 4px;
}

.input-hint {
  font-size: 0.8rem;
  color: var(--muted-2);
  margin-top: 0.25rem;
}

html[data-theme="light"] .calc-input {
  background: rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.12);
  color: var(--text);
}

html[data-theme="light"] .calc-input:focus {
  background: rgba(0, 0, 0, 0.05);
}

.result-box {
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(91, 138, 255, 0.1), rgba(118, 221, 255, 0.05));
  border: 1px solid rgba(91, 138, 255, 0.3);
  border-radius: 12px;
}

.result-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.result-item:last-child {
  border-bottom: none;
}

.result-item.large {
  padding: 1rem 0;
}

.result-item.large .result-value {
  font-size: 1.8rem;
}

.result-label {
  font-size: 0.9rem;
  color: var(--muted);
  font-weight: 500;
}

.result-value {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text);
}

.info-card {
  padding: 1rem;
  background: rgba(118, 221, 255, 0.1);
  border-left: 3px solid var(--accent);
  border-radius: 8px;
}

.info-card h5 {
  margin: 0 0 0.5rem 0;
  font-size: 1rem;
  color: var(--accent);
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
}

.comparison-table th,
.comparison-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.comparison-table th {
  font-weight: 600;
  color: var(--brand);
  background: rgba(91, 138, 255, 0.1);
}

.comparison-table .good {
  color: #3ed598;
  font-weight: 600;
}

.comparison-table .warn {
  color: #f9a23c;
  font-weight: 600;
}

.comparison-table .bad {
  color: #ff6b6b;
  font-weight: 600;
}

.comparison-box {
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.comparison-box.good {
  border-color: rgba(62, 213, 152, 0.3);
  background: rgba(62, 213, 152, 0.05);
}

.comparison-box.bad {
  border-color: rgba(255, 107, 107, 0.3);
  background: rgba(255, 107, 107, 0.05);
}

.comparison-box h5 {
  margin: 0 0 1rem 0;
  font-size: 1.1rem;
}

.comparison-box ul {
  margin: 0;
  padding-left: 1.2rem;
  line-height: 1.8;
}

.mistake-card {
  margin-bottom: 1.5rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.mistake-header {
  display: inline-block;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
}

.mistake-header.bad {
  background: rgba(255, 107, 107, 0.2);
  color: #ff6b6b;
  border: 1px solid rgba(255, 107, 107, 0.3);
}

.mistake-card h4 {
  margin: 0.5rem 0;
  font-size: 1.1rem;
}

.mistake-fix {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  background: rgba(62, 213, 152, 0.1);
  border-left: 3px solid #3ed598;
  border-radius: 6px;
  font-size: 0.95rem;
}

.tip-card {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(118, 221, 255, 0.05), rgba(91, 138, 255, 0.05));
  border: 1px solid rgba(118, 221, 255, 0.2);
  border-radius: 12px;
}

.tip-icon {
  font-size: 2rem;
  line-height: 1;
}

.tip-card h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
  color: var(--accent);
}

.tip-card p, .tip-card ul {
  margin: 0.5rem 0;
  font-size: 0.95rem;
  line-height: 1.6;
}

.verdict {
  padding: 0.75rem 1rem;
  border-radius: 8px;
  font-weight: 600;
  text-align: center;
}

/* Accessibility: Thicker borders and higher contrast for colorblind users */
.verdict.good {
  background: rgba(62, 213, 152, 0.15);
  color: #3ed598;
  border: 2px solid rgba(62, 213, 152, 0.6);
  box-shadow: 0 2px 4px rgba(62, 213, 152, 0.2);
}

.verdict.warn {
  background: rgba(249, 162, 60, 0.15);
  color: #f9a23c;
  border: 2px solid rgba(249, 162, 60, 0.6);
  box-shadow: 0 2px 4px rgba(249, 162, 60, 0.2);
}

.verdict.bad {
  background: rgba(255, 107, 107, 0.15);
  color: #ff6b6b;
  border: 2px solid rgba(255, 107, 107, 0.6);
  box-shadow: 0 2px 4px rgba(255, 107, 107, 0.2);
}

.lesson-card-link {
  text-decoration: none;
  color: inherit;
  transition: transform 0.2s ease;
  display: block;
}

.lesson-card-link:hover {
  transform: translateY(-2px);
}

.styled-list {
  padding-left: 1.5rem;
  line-height: 1.8;
}

.styled-list li {
  margin-bottom: 0.5rem;
}

.styled-list strong {
  color: var(--brand);
}
</style>

</body>
</html>
