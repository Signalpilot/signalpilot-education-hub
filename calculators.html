<!doctype html>
<html lang="en" dir="ltr" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Trading Calculators ‚Äî Signal Pilot</title>
  <meta name="description" content="Professional trading calculators with deep educational insights. Learn position sizing, risk management, and performance analysis from first principles.">
  <link rel="canonical" href="https://education.signalpilot.io/calculators.html">
  <meta name="theme-color" content="#05070d">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Gugi&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Gugi&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"></noscript>
  <style>
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: #05070d; color: #e0e0e0; }
    .sp-header { background: rgba(5, 7, 13, 0.95); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
    .hero { min-height: 30vh; display: flex; align-items: center; padding: 3rem 0 2rem; text-align: center; }
  </style>
  <!-- SignalPilot Theme System -->
  <link rel="stylesheet" href="/assets/signalpilot-theme.css">
  <link rel="stylesheet" href="/assets/edu.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/assets/edu.css"></noscript>
</head>
<body>
  <div class="bg-stars" aria-hidden="true"></div>
  <canvas id="constellations" class="sp-constellations" aria-hidden="true"></canvas>
  <div class="bg-aurora" aria-hidden="true"></div>

<header class="sp-header">
  <div class="wrap">
    <a class="brand" href="https://signalpilot.io/">
      <svg width="32" height="32" viewBox="0 0 24 24" style="color:#5b8aff"><path d="M3 17l6-6 4 4 7-7" fill="none" stroke="currentColor" stroke-width="2.5"/><path d="M21 10V4h-6" fill="none" stroke="currentColor" stroke-width="2.5"/></svg>
      <span>SIGNAL PILOT</span>
    </a>
    <nav id="mainnav" aria-label="Main">
      <ul>
        <li><a href="https://signalpilot.io/#why">Why Signal Pilot?</a></li>
        <li><a href="https://signalpilot.io/#inside">What's inside</a></li>
        <li><a href="/">Education</a></li>
        <li><a href="/search.html">üîç Search</a></li>
        <li><a aria-current="page" href="/calculators.html">Calculators</a></li>
        <li><a href="https://signalpilot.io/#pricing">Pricing</a></li>
      </ul>
    </nav>
    <div class="header-ctls">
      <button id="themeToggle" class="btn btn-ghost btn-sm" type="button" aria-label="Toggle theme">
        <span id="theme-icon">üåô</span>
      </button>
      <button id="menuToggle" class="menu-toggle" aria-expanded="false">Menu ‚ò∞</button>
    </div>
  </div>
</header>

<main>
  <!-- Hero Section -->
  <section class="hero">
    <div class="wrap">
      <span class="badge">üìä TRADING CALCULATORS</span>
      <h1 class="headline xl" style="margin:1rem 0">Professional Trading Tools</h1>
      <p class="lead" style="max-width:680px;margin:1rem auto">Essential calculators for position sizing, risk management, P&L analysis, and performance tracking. Each calculator includes deep educational insights to help you understand the math behind profitable trading.</p>
    </div>
  </section>

  <!-- Quick Links -->
  <section class="wrap" style="margin:2rem auto">
    <div class="card" style="padding:1.5rem;background:linear-gradient(135deg,rgba(91,138,255,0.1),rgba(118,221,255,0.05))">
      <h3 style="margin:0 0 1rem 0;font-size:1.1rem">Jump to Calculator:</h3>
      <div style="display:flex;gap:0.75rem;flex-wrap:wrap">
        <a href="#position-size" class="btn btn-sm btn-ghost">Position Size</a>
        <a href="#risk-reward" class="btn btn-sm btn-ghost">Risk/Reward</a>
        <a href="#profit-loss" class="btn btn-sm btn-ghost">Profit/Loss</a>
        <a href="#fees" class="btn btn-sm btn-ghost">Fees & Commissions</a>
        <a href="#compound" class="btn btn-sm btn-ghost">Compound Growth</a>
        <a href="#winrate" class="btn btn-sm btn-ghost">Win Rate & Expectancy</a>
      </div>
    </div>
  </section>

  <!-- Calculator 1: Position Size -->
  <section class="wrap" id="position-size" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">01</div>
        <div>
          <h2 class="headline md" style="margin:0">üìè Position Size Calculator</h2>
          <p class="calc-tagline">The difference between pros and gamblers isn't strategy‚Äîit's that pros risk 1% and gamblers risk 10%.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Common Mistakes</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Account Balance ($)</label>
                  <input type="number" id="ps-balance" class="calc-input" value="10000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Risk Per Trade (%)</label>
                  <input type="number" id="ps-risk-pct" class="calc-input" value="1" min="0.1" max="100" step="0.1">
                  <span class="input-hint">Recommended: 0.5-2%</span>
                </div>

                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="ps-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Stop Loss Price ($)</label>
                  <input type="number" id="ps-stop" class="calc-input" value="95" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculatePositionSize()">Calculate Position Size</button>
              </div>

              <div class="calc-results">
                <div id="ps-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Position Size</span>
                    <span class="result-value" id="ps-size">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Dollar Risk</span>
                    <span class="result-value" id="ps-dollar-risk">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Risk Per Share</span>
                    <span class="result-value" id="ps-risk-unit">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Position Value</span>
                    <span class="result-value" id="ps-total-value">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Quick Insight</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Professional traders risk the same PERCENTAGE on every trade, not the same dollar amount. This ensures your risk stays proportional to your account size as it grows or shrinks.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Position Sizing is Everything</h3>

              <p>Most traders lose not because they're wrong, but because they're <strong>sized wrong</strong>. You can have a 70% win rate and still blow up if you risk too much on the 30% that fail.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Asymmetry of Losses</h4>
                <p>A 50% loss requires a 100% gain to recover. This mathematical reality is why risk management isn't optional‚Äîit's survival.</p>
                <ul>
                  <li>Down 20%? Need +25% to recover</li>
                  <li>Down 30%? Need +43% to recover</li>
                  <li>Down 50%? Need +100% to recover</li>
                </ul>
              </div>

              <h4>The Reality Check</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Risk Per Trade</th>
                    <th>5 Consecutive Losses</th>
                    <th>10 Consecutive Losses</th>
                    <th>Outcome</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1%</td>
                    <td class="good">-5%</td>
                    <td class="good">-10%</td>
                    <td>Recoverable</td>
                  </tr>
                  <tr>
                    <td>2%</td>
                    <td class="warn">-10%</td>
                    <td class="warn">-18%</td>
                    <td>Challenging</td>
                  </tr>
                  <tr>
                    <td>5%</td>
                    <td class="bad">-23%</td>
                    <td class="bad">-40%</td>
                    <td>Career-ending</td>
                  </tr>
                  <tr>
                    <td>10%</td>
                    <td class="bad">-41%</td>
                    <td class="bad">-65%</td>
                    <td>Account death</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-success">
                <h4>‚úì Real Example</h4>
                <p><strong>$10,000 account, risking 2% = $200 risk</strong></p>
                <p>Entry at $50, stop at $48 = $2 risk per share = <strong>100 shares</strong></p>
                <p>Same trader at 5% risk = 250 shares. Feels like "only 3% more risk" but creates <strong>150% bigger position</strong>.</p>
              </div>

              <h4>Professional Guidelines</h4>
              <ul class="styled-list">
                <li><strong>Learning Phase:</strong> Risk 0.5-1% per trade</li>
                <li><strong>Profitable Trader:</strong> Risk 1-2% per trade</li>
                <li><strong>Experienced Pro:</strong> Risk 2-3% per trade (multi-year track record only)</li>
                <li><strong>Red Flag:</strong> Anyone suggesting 5%+ is selling dreams, not strategies</li>
              </ul>
            </div>
          </div>

          <!-- Common Mistakes Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Common Position Sizing Mistakes</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #1</div>
                <h4>Risking the Same Dollar Amount</h4>
                <p>Trader always risks $500 per trade. Account starts at $50,000, shrinks to $30,000. Still risking $500.</p>
                <p><strong>Problem:</strong> $500 was 1% at $50k, now it's 1.67% at $30k. Risk increases as account shrinks = death spiral.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Always risk the same PERCENTAGE, not dollar amount.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #2</div>
                <h4>Counting Position SIZE Instead of Position RISK</h4>
                <p>"I always buy 100 shares" sounds consistent, but volatility changes everything.</p>
                <p><strong>Example:</strong> 100 shares of Tesla (4% ATR) = completely different risk than 100 shares of Apple (1% ATR).</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Calculate position size based on distance to stop, not arbitrary share count.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #3</div>
                <h4>Not Accounting for Gap Risk</h4>
                <p>Stop at $95, but stock gaps down to $90 on earnings. You planned for $5 risk, you got $10 risk.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Reduce position size 50% before binary events (earnings, FDA decisions, etc.).
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìñ Learn More</h4>
                <p>For deep dive into position sizing science, see <a href="/curriculum/beginner/09-position-sizing.html">Article #9: Position Sizing Science</a></p>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Position Sizing Tips</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Volatility-Adjusted Sizing</h4>
                  <p>Don't just calculate shares‚Äîadjust for ATR (Average True Range).</p>
                  <p><strong>Formula:</strong> Position Size = (Account √ó Risk%) / (ATR √ó Multiplier)</p>
                  <p>Higher volatility = automatically smaller position. Risk stays constant.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Portfolio Heat Management</h4>
                  <p>Individual trade risk is only part of the equation. Track TOTAL exposure.</p>
                  <p><strong>Example:</strong> 5 open positions at 1% each = 5% total portfolio heat</p>
                  <p>Professionals cap total heat at 6-8%. Above that, stop taking new trades.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Scale Based on Conviction</h4>
                  <p>A-grade setups: Full position (2%)<br>
                  B-grade setups: Half position (1%)<br>
                  C-grade setups: Quarter position (0.5%)</p>
                  <p>This allows you to stay in the game while allocating more capital to your best ideas.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 2% Rule</h4>
                  <p>Never risk more than 2% on any single trade, no matter how "sure" you are.</p>
                  <p>Why? Even 90% probability trades lose 10% of the time. If you bet 10% on "sure things," you'll eventually hit that 10% and crater your account.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ Kelly Criterion</h4>
                <p>Advanced position sizing uses the Kelly Criterion formula:</p>
                <p><strong>Kelly % = (Win Rate √ó Avg Win - Loss Rate √ó Avg Loss) / Avg Win</strong></p>
                <p>Most pros use 1/4 Kelly to account for estimation errors. See our <a href="#winrate">Win Rate Calculator</a> for expectancy calculations.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 2: Risk/Reward -->
  <section class="wrap" id="risk-reward" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">02</div>
        <div>
          <h2 class="headline md" style="margin:0">‚öñÔ∏è Risk/Reward Calculator</h2>
          <p class="calc-tagline">Taking a 1:1 risk/reward trade is like flipping a coin where heads you win $1, tails you lose $1. Even at 60% win rate, fees make you a loser.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Common Mistakes</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="rr-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Stop Loss ($)</label>
                  <input type="number" id="rr-stop" class="calc-input" value="95" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Take Profit ($)</label>
                  <input type="number" id="rr-target" class="calc-input" value="115" min="0" step="0.01">
                  <span class="input-hint">Minimum recommended: 2:1 R:R</span>
                </div>

                <button class="btn btn-primary" onclick="calculateRiskReward()">Calculate R:R</button>
              </div>

              <div class="calc-results">
                <div id="rr-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Risk/Reward Ratio</span>
                    <span class="result-value" id="rr-ratio">-</span>
                  </div>
                  <div id="rr-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item">
                    <span class="result-label">Risk Per Share</span>
                    <span class="result-value" id="rr-risk">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Reward Per Share</span>
                    <span class="result-value" id="rr-reward">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Min Win Rate Needed</span>
                    <span class="result-value" id="rr-min-wr">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Win Rate Requirements</h5>
                  <ul style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.8">
                    <li>1:1 R:R = Need 50% win rate</li>
                    <li>1:2 R:R = Need 34% win rate</li>
                    <li>1:3 R:R = Need 25% win rate</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why R:R Matters More Than Win Rate</h3>

              <p>Retail traders obsess over win rate. Professionals obsess over R:R. You can be profitable with 30% win rate at 3:1 R:R, but you'll lose money with 60% win rate at 1:2 R:R.</p>

              <div class="callout callout-info">
                <h4>üìä The Casino Principle</h4>
                <p>Casinos don't win every hand‚Äîthey win because when they DO win, they win MORE than they lose. That's R:R.</p>
              </div>

              <h4>Real Comparison: Trader A vs Trader B</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box bad">
                  <h5>‚ùå Trader A: "I win most trades!"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Win Rate: 70%</li>
                    <li>R:R: 1:1</li>
                    <li>70 wins √ó $100 = $7,000</li>
                    <li>30 losses √ó $100 = $3,000</li>
                    <li><strong>Net: $4,000</strong></li>
                  </ul>
                </div>

                <div class="comparison-box good">
                  <h5>‚úì Trader B: "I lose most trades..."</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Win Rate: 40%</li>
                    <li>R:R: 1:3</li>
                    <li>40 wins √ó $300 = $12,000</li>
                    <li>60 losses √ó $100 = $6,000</li>
                    <li><strong>Net: $6,000</strong></li>
                  </ul>
                </div>
              </div>

              <p><strong>Trader B makes 50% MORE despite being "wrong" 60% of the time.</strong></p>

              <h4>Minimum R:R by Win Rate (Break-Even)</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Win Rate</th>
                    <th>Min R:R to Break Even</th>
                    <th>Comfortable R:R</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>30%</td>
                    <td>1:2.3</td>
                    <td class="good">1:3+</td>
                  </tr>
                  <tr>
                    <td>40%</td>
                    <td>1:1.5</td>
                    <td class="good">1:2+</td>
                  </tr>
                  <tr>
                    <td>50%</td>
                    <td>1:1</td>
                    <td class="warn">1:1.5+</td>
                  </tr>
                  <tr>
                    <td>60%</td>
                    <td>1:0.67</td>
                    <td class="warn">1:1+</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Harsh Reality</h4>
                <p>Most retail traders take 1:1 or worse because:</p>
                <ol>
                  <li>They enter too late (already ran 50% of the move)</li>
                  <li>They're impatient (target is "too far away")</li>
                  <li>They put stops too close (don't want to risk "that much")</li>
                </ol>
                <p><strong>Result:</strong> 55-60% win rate but still losing money after fees.</p>
              </div>
            </div>
          </div>

          <!-- Common Mistakes Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>R:R Mistakes That Kill Accounts</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #1</div>
                <h4>Taking Trades Regardless of R:R</h4>
                <p>"I really like this setup" ‚â† good R:R. Chart looks beautiful but only offers 1:0.8 R:R.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> If chart doesn't offer 2:1, you're entering at the wrong place. Wait or skip.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #2</div>
                <h4>Targeting Round Numbers</h4>
                <p>Entry $47.20, stop $45.80, target $50.00 because "it's a nice round number."</p>
                <p>Risk: $1.40, Reward: $2.80 = 1:2 R:R looks good... but $50 might have massive resistance.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Target structure-based levels (previous highs, volume nodes, FVGs), not round numbers.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #3</div>
                <h4>Moving Stops to "Improve" R:R</h4>
                <p>Entry $100, proper stop $95 (1:3 R:R). But "that's $500 risk!" so move stop to $98 (1:7.5 R:R!).</p>
                <p><strong>Problem:</strong> Stop is now in the noise. Gets stopped out 90% instead of 40%. "Great" R:R, terrible execution.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Set stop based on STRUCTURE, then adjust position size to match your risk tolerance.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Mistake #4</div>
                <h4>Measuring R:R From Current Price (Survivorship Bias)</h4>
                <p>Entered at $100, now at $105. "From here, my R:R is 1:4!" Wrong. Your R:R is measured from ENTRY.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Lock in 1:1 if you want, but track actual R:R from entry for journal.
                </div>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional R:R Strategy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 2:1 Minimum Rule</h4>
                  <p>Never take a trade below 2:1 R:R. This single rule will transform your trading.</p>
                  <p><strong>Why?</strong> At 2:1, you only need 34% win rate to be profitable. Gives massive margin for error.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Partial Profit Taking</h4>
                  <p>Take 50% at 2R, let 50% run to 4R+. This locks in winners while leaving room for home runs.</p>
                  <p><strong>Actual R:R:</strong> (0.5 √ó 2R) + (0.5 √ó 4R) = 3R average on winners</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Trailing Stops for Asymmetric R:R</h4>
                  <p>Initial target 3:1, but use trailing stop after 2R. Sometimes you catch 10R runners.</p>
                  <p>This creates positive skew: Losses capped at 1R, wins occasionally 5-10R.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>R:R Filters by Timeframe</h4>
                  <ul style="margin:0.5rem 0">
                    <li>Scalping: Minimum 1.5:1 (tight R:R, high win rate needed)</li>
                    <li>Day Trading: Minimum 2:1</li>
                    <li>Swing Trading: Minimum 2.5:1</li>
                    <li>Position Trading: Minimum 3:1</li>
                  </ul>
                  <p>Longer timeframes = more noise = need better R:R to compensate.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ The ATR-Based Target Method</h4>
                <p>Professional way to set realistic targets:</p>
                <ul>
                  <li>Stop: 1-1.5 ATR below entry</li>
                  <li>Target: 2-3 ATR above entry</li>
                  <li>Result: Automatic 2:1 to 3:1 R:R based on volatility</li>
                </ul>
                <p>See <a href="/curriculum/beginner/10-stop-losses.html">Article #10: ATR-Based Stops</a> for more.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 3: Profit/Loss -->
  <section class="wrap" id="profit-loss" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">03</div>
        <div>
          <h2 class="headline md" style="margin:0">üí∞ Profit/Loss Calculator</h2>
          <p class="calc-tagline">A $1,000 profit feels great until you realize it was 2% on a $50,000 position. Meanwhile your friend made 15% on $2,000. Who's the better trader?</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Psychology Traps</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Position Type</label>
                  <select id="pl-type" class="calc-input">
                    <option value="long">Long (Buy)</option>
                    <option value="short">Short (Sell)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="pl-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="pl-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size (shares/contracts)</label>
                  <input type="number" id="pl-size" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculateProfitLoss()">Calculate P&L</button>
              </div>

              <div class="calc-results">
                <div id="pl-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Profit/Loss</span>
                    <span class="result-value" id="pl-amount">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Return (%)</span>
                    <span class="result-value" id="pl-pct">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Price Change</span>
                    <span class="result-value" id="pl-price-change">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">R-Multiple</span>
                    <span class="result-value" id="pl-r-multiple">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Track Both Metrics</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Dollar P&L shows absolute gain. Percentage shows efficiency. You need both to measure performance accurately.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Percentages Matter More Than Dollars</h3>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Context Problem</h4>
                <p>Absolute dollar P&L is meaningless without context:</p>
                <ul>
                  <li>Hedge fund making $1M on $100M = 1% (failing)</li>
                  <li>Retail trader making $1,000 on $10k = 10% (crushing it)</li>
                </ul>
              </div>

              <h4>Real Comparison</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box">
                  <h5>Trader A: "Look at my gains!"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Account: $100,000</li>
                    <li>Profit: $2,000</li>
                    <li>Return: <strong class="warn">2%</strong></li>
                    <li>Trades: 50</li>
                    <li>Avg per trade: 0.04%</li>
                  </ul>
                </div>

                <div class="comparison-box">
                  <h5>Trader B: "Small gains only"</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Account: $5,000</li>
                    <li>Profit: $750</li>
                    <li>Return: <strong class="good">15%</strong></li>
                    <li>Trades: 30</li>
                    <li>Avg per trade: 0.5%</li>
                  </ul>
                </div>
              </div>

              <p>Trader B is FAR more skilled, but Trader A "feels richer" because brain only sees dollars.</p>

              <h4>The Survivorship Bias Trap</h4>
              <p>Your brain remembers:</p>
              <ul>
                <li class="good">‚úì The $500 winner (feels amazing)</li>
                <li class="muted">‚Ä¢ Forgets the 8 √ó $100 losers</li>
              </ul>
              <p><strong>Net result:</strong> -$300, but you "feel" profitable because that one win was memorable.</p>

              <div class="callout callout-success">
                <h4>‚úì What Professionals Track</h4>
                <ul>
                  <li><strong>Dollar P&L:</strong> Pays the bills</li>
                  <li><strong>Percentage Return:</strong> Measures skill</li>
                  <li><strong>R-Multiples:</strong> Normalizes across different setups</li>
                  <li><strong>Win Rate:</strong> Combined with avg R to calculate expectancy</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Psychology Traps Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Psychology Traps in P&L Tracking</h3>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #1</div>
                <h4>Dollar Anchoring</h4>
                <p>Your brain values $1,000 as $1,000 regardless of account size.</p>
                <p><strong>Result:</strong></p>
                <ul>
                  <li>$50k trader making $500/day (1%) feels "poor"</li>
                  <li>$5k trader chasing $500/day (10%) feels "motivated"</li>
                </ul>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Think in percentages only. "I need 2% per week" not "$1,000 per week."
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #2</div>
                <h4>Scaling Position Size Based on Confidence</h4>
                <p>"I'm really confident in this trade" ‚Üí takes 500 shares instead of usual 100.</p>
                <p><strong>Problem:</strong> Confidence ‚â† edge. Position size should be CONSISTENT.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Risk same % every trade. Confidence is emotional noise.
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Trap #3</div>
                <h4>Revenge Sizing</h4>
                <p>Lost $500, so next trade risks $1,000 to "make it back."</p>
                <p><strong>This is how accounts die.</strong> Position size should NEVER depend on previous trade.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Every trade starts fresh. Same risk %, always.
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìä Track Your Average Win/Loss</h4>
                <p>After 50 trades, you should know:</p>
                <ul>
                  <li>Average Winner: +X%</li>
                  <li>Average Loser: -Y%</li>
                  <li>Win Rate: Z%</li>
                </ul>
                <p>If you can't consistently make 1-2% per winning trade, something's wrong with your execution.</p>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 10% Monthly Reality Check</h4>
                  <p>+10% on ONE trade = great<br>
                  +10% on 50 trades = either genius or about to blow up</p>
                  <p><strong>Why?</strong> Consistent 10% per trade means you're either taking massive risk or getting lucky. Neither is sustainable.</p>
                  <p>Track your AVERAGE return per trade over 50+ trades. That's your real edge.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 4: Fees/Commission -->
  <section class="wrap" id="fees" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">04</div>
        <div>
          <h2 class="headline md" style="margin:0">üí∏ Fee/Commission Calculator</h2>
          <p class="calc-tagline">You're not competing with other traders. You're competing with your broker's fee structure. And your broker ALWAYS wins.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Cost Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Entry Price ($)</label>
                  <input type="number" id="fee-entry" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Exit Price ($)</label>
                  <input type="number" id="fee-exit" class="calc-input" value="110" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Position Size</label>
                  <input type="number" id="fee-size" class="calc-input" value="100" min="0" step="0.01">
                </div>

                <div class="form-group">
                  <label>Commission Per Trade ($)</label>
                  <input type="number" id="fee-commission" class="calc-input" value="5" min="0" step="0.01">
                  <span class="input-hint">Round-trip = 2x this amount</span>
                </div>

                <div class="form-group">
                  <label>Fee Rate (%) - SEC/Exchange Fees</label>
                  <input type="number" id="fee-rate" class="calc-input" value="0.1" min="0" step="0.01">
                </div>

                <button class="btn btn-primary" onclick="calculateFees()">Calculate Fees</button>
              </div>

              <div class="calc-results">
                <div id="fee-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Total Fees</span>
                    <span class="result-value" id="fee-total">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Entry Costs</span>
                    <span class="result-value" id="fee-entry-cost">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Exit Costs</span>
                    <span class="result-value" id="fee-exit-cost">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Gross P&L</span>
                    <span class="result-value" id="fee-gross-pl">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Net P&L After Fees</span>
                    <span class="result-value" id="fee-net-pl">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Break-Even Price</span>
                    <span class="result-value" id="fee-breakeven">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Fee Impact</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Every trade starts in a hole. Calculate break-even BEFORE entering to understand true cost of trading.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Why Fees Kill Scalpers (And Everyone Else)</h3>

              <p>Every trade you make, you start in a hole. Before the price moves at all, you owe commissions, fees, spreads, and slippage.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Scalper's Death Spiral</h4>
                <p>Scalper taking 20 trades/day at $10/roundtrip = $200/day in fees = $4,000/month = $48,000/year just to BREAK EVEN.</p>
                <p>Most retail traders don't calculate this until they've lost a year wondering why they're "winning trades but losing money."</p>
              </div>

              <h4>The Harsh Math</h4>

              <div class="comparison-box bad">
                <h5>Example: The Hidden Cost</h5>
                <p>On a $10,000 position:</p>
                <ul style="margin:0.5rem 0">
                  <li>Commission: $10 (round-trip)</li>
                  <li>SEC/Exchange fees: $20 (0.2% roundtrip)</li>
                  <li>Slippage estimate: $10</li>
                  <li><strong>Total cost: $40</strong></li>
                </ul>
                <p style="margin-top:1rem"><strong>You need +0.4% move just to break even.</strong></p>
                <p>If you scalp 0.3% moves? You're slowly going broke.</p>
              </div>

              <h4>The Fee Hierarchy (Best to Worst)</h4>
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Strategy</th>
                    <th>Frequency</th>
                    <th>Fees as % of Returns</th>
                    <th>Verdict</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Long-term Investing</td>
                    <td>Monthly+</td>
                    <td class="good">0.01-0.1%</td>
                    <td>Sustainable</td>
                  </tr>
                  <tr>
                    <td>Swing Trading</td>
                    <td>Weekly</td>
                    <td class="good">1-2%</td>
                    <td>Viable</td>
                  </tr>
                  <tr>
                    <td>Day Trading</td>
                    <td>Daily</td>
                    <td class="warn">10-20%</td>
                    <td>Challenging</td>
                  </tr>
                  <tr>
                    <td>Scalping</td>
                    <td>Minutes</td>
                    <td class="bad">30-60%</td>
                    <td>Nearly Impossible</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-info">
                <h4>üìä Real Trader Example</h4>
                <p><strong>Trader scalps 10 trades/day:</strong></p>
                <ul>
                  <li>Position size: $5,000 each</li>
                  <li>Gross profit/trade: $25 (0.5% avg)</li>
                  <li>Fees/trade: $15 (commission + fees)</li>
                  <li>Net profit/trade: $10</li>
                </ul>
                <p style="margin-top:1rem"><strong>Daily gross: $250</strong><br>
                <strong>Daily fees: $150</strong><br>
                <strong>Daily net: $100</strong></p>
                <p>Fees ate 60% of profits. After 6 months, trader made $12k but "should have" made $30k.</p>
              </div>
            </div>
          </div>

          <!-- Cost Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Cost Structure Breakdown</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Calculate Break-Even BEFORE Entry</h4>
                  <p>Most traders enter first, then realize they need +0.3-0.5% just to break even.</p>
                  <p><strong>Formula:</strong> Break-even = Entry + (Total Fees / Position Size)</p>
                  <p>If break-even requires more than 0.3% move, you're either overtrading or using wrong strategy.</p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Why Market Makers Win</h4>
                  <p>They have structural advantages:</p>
                  <ul>
                    <li>Earn the spread (you PAY the spread)</li>
                    <li>Pay lower commissions (volume discounts)</li>
                    <li>Get rebates for adding liquidity (you PAY to take liquidity)</li>
                  </ul>
                  <p><strong>Result:</strong> They start with 0.5% advantage on every trade.</p>
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Common Mistake</div>
                <h4>Only Tracking Commissions</h4>
                <p>Commissions are the smallest part of trading costs.</p>
                <p><strong>Full cost breakdown:</strong></p>
                <ul>
                  <li>Commission: $5-10</li>
                  <li>Spread: $10-50 (varies by liquidity)</li>
                  <li>Slippage: $5-20 (varies by volatility)</li>
                  <li>SEC/Exchange fees: $5-15</li>
                </ul>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Track ALL costs. Spread and slippage are often 2-3x commission amount.
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ Optimal Trade Frequency</h4>
                <p>There's a sweet spot for trade frequency:</p>
                <ul>
                  <li><strong>Too few trades:</strong> Miss opportunities, under-utilize capital</li>
                  <li><strong>Too many trades:</strong> Death by fees, overtrading</li>
                  <li><strong>Sweet spot:</strong> 2-10 trades per week for most retail traders</li>
                </ul>
                <p>Each trade should offer enough profit potential to justify fee burden (minimum 2:1 R:R after fees).</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 5: Compound Growth -->
  <section class="wrap" id="compound" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">05</div>
        <div>
          <h2 class="headline md" style="margin:0">üìà Compound Growth Calculator</h2>
          <p class="calc-tagline">Compound interest is the most powerful force in the universe‚Äîand the slowest. Get-rich-quick traders die before compounding can save them.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>Reality Check</button>
          <button>Pro Tips</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Starting Balance ($)</label>
                  <input type="number" id="cg-balance" class="calc-input" value="10000" min="0" step="100">
                </div>

                <div class="form-group">
                  <label>Average Monthly Return (%)</label>
                  <input type="number" id="cg-return" class="calc-input" value="5" min="-100" step="0.1">
                  <span class="input-hint">Realistic: 3-7% monthly</span>
                </div>

                <div class="form-group">
                  <label>Number of Months</label>
                  <input type="number" id="cg-months" class="calc-input" value="12" min="1" step="1">
                </div>

                <div class="form-group">
                  <label>Monthly Addition ($)</label>
                  <input type="number" id="cg-addition" class="calc-input" value="0" min="0" step="100">
                  <span class="input-hint">External capital injection</span>
                </div>

                <button class="btn btn-primary" onclick="calculateCompoundGrowth()">Calculate Growth</button>
              </div>

              <div class="calc-results">
                <div id="cg-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Final Balance</span>
                    <span class="result-value" id="cg-final">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Gain</span>
                    <span class="result-value" id="cg-gain">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Added Capital</span>
                    <span class="result-value" id="cg-added">-</span>
                  </div>
                  <div class="result-item large">
                    <span class="result-label">Total Return (%)</span>
                    <span class="result-value" id="cg-pct">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Annualized Return</span>
                    <span class="result-value" id="cg-annual">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° Compound Magic</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">10% monthly ‚â† 120% annually. It's 214% due to compounding. Small consistent gains > large inconsistent gains.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Power (and Fragility) of Compounding</h3>

              <p>Everyone quotes Einstein on compound interest. What they don't tell you: compounding is SLOW and FRAGILE. It requires CONSISTENCY, not home runs.</p>

              <div class="callout callout-info">
                <h4>üìä Simple vs Compound Interest</h4>
                <p><strong>Simple (Wrong):</strong> $10,000 √ó 10% monthly √ó 12 = $22,000</p>
                <p><strong>Compound (Right):</strong> $10,000 ‚Üí $11,000 ‚Üí $12,100 ‚Üí $13,310... ‚Üí <strong>$31,384</strong></p>
                <p>You made $21,384, not $12,000. That's the power of compounding.</p>
              </div>

              <h4>But Here's What They Don't Tell You</h4>

              <div class="comparison-box bad">
                <h5>‚ö†Ô∏è Compounding is Fragile</h5>
                <p><strong>Scenario:</strong> Same trader, ONE bad month (-20%) in month 6:</p>
                <ul style="margin:0.5rem 0">
                  <li>Month 6 balance: $17,715</li>
                  <li>After -20%: $14,172</li>
                  <li>Month 12 (6 more at 10%): $25,093</li>
                </ul>
                <p style="margin-top:1rem"><strong>One bad month cost $6,291 in final value.</strong></p>
              </div>

              <h4>Steady Eddie vs Boom/Bust</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box good">
                  <h5>‚úì Steady Eddie</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Start: $10,000</li>
                    <li>Return: 5% every month</li>
                    <li>12 months</li>
                    <li><strong>Final: $17,958</strong></li>
                  </ul>
                </div>

                <div class="comparison-box bad">
                  <h5>‚ùå Boom/Bust</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Start: $10,000</li>
                    <li>Return: +20%, -10% alternating</li>
                    <li>Average: 5%/month</li>
                    <li><strong>Final: $15,036</strong></li>
                  </ul>
                </div>
              </div>

              <p><strong>Same AVERAGE return, but volatility destroyed 16% of final value.</strong></p>

              <div class="callout callout-success">
                <h4>‚úì The Real Secret</h4>
                <p>It's not making huge returns. It's making small returns WITHOUT having big drawdowns.</p>
                <p><strong>5% monthly with no -20% months beats 15% monthly with occasional -30% blowups.</strong></p>
                <p>This is why Sharpe ratio (consistency) matters more than raw returns.</p>
              </div>
            </div>
          </div>

          <!-- Reality Check Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Reality Check: Time to $1M</h3>

              <p>Everyone wants to know: "How long to turn $10k into $1M?"</p>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>Monthly Return</th>
                    <th>Time to $1M</th>
                    <th>Realistic?</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>3%</td>
                    <td class="warn">126 months (10.5 years)</td>
                    <td>Achievable</td>
                  </tr>
                  <tr>
                    <td>5%</td>
                    <td class="good">94 months (7.8 years)</td>
                    <td>World-class</td>
                  </tr>
                  <tr>
                    <td>10%</td>
                    <td class="good">48 months (4 years)</td>
                    <td>Elite (unsustainable)</td>
                  </tr>
                  <tr>
                    <td>20%</td>
                    <td class="bad">24 months (2 years)</td>
                    <td>Impossible to sustain</td>
                  </tr>
                  <tr>
                    <td>50%</td>
                    <td class="bad">10 months</td>
                    <td>Scam territory</td>
                  </tr>
                </tbody>
              </table>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Harsh Truth</h4>
                <ul>
                  <li><strong>3-5% monthly:</strong> Realistic for skilled traders</li>
                  <li><strong>7-10% monthly:</strong> Elite territory (hard to sustain)</li>
                  <li><strong>15%+ monthly:</strong> Either genius, lucky, or about to blow up</li>
                  <li><strong>50%+ monthly:</strong> Marketing lie</li>
                </ul>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Why Adding Capital Matters</h4>
                  <p><strong>$10,000 at 5% monthly:</strong></p>
                  <ul>
                    <li>Month 12 (no additions): $17,958</li>
                    <li>Month 12 (adding $500/month): $25,614</li>
                  </ul>
                  <p><strong>Adding $500/month = $7,656 MORE in final balance.</strong></p>
                  <p>Sometimes the best trading strategy is having a job.</p>
                </div>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå Common Trap</div>
                <h4>Withdrawing Profits Too Early</h4>
                <p>Trader makes $2,000, withdraws it to "lock in gains."</p>
                <p><strong>Problem:</strong> You just broke the exponential curve. That $2,000 could have become $10,000 over next year.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Let capital compound for at least 12-24 months before regular withdrawals. Withdraw profits only AFTER achieving target account size.
                </div>
              </div>
            </div>
          </div>

          <!-- Pro Tips Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Compounding Strategy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 3-Phase Approach</h4>
                  <p><strong>Phase 1: Growth (0-2 years)</strong></p>
                  <ul>
                    <li>Withdraw $0, reinvest everything</li>
                    <li>Add external capital monthly</li>
                    <li>Focus on % returns, not dollar amounts</li>
                  </ul>
                  <p><strong>Phase 2: Scaling (2-5 years)</strong></p>
                  <ul>
                    <li>Withdraw only enough to cover living expenses</li>
                    <li>Reinvest majority of profits</li>
                    <li>Account size reaching critical mass ($100k+)</li>
                  </ul>
                  <p><strong>Phase 3: Income (5+ years)</strong></p>
                  <ul>
                    <li>Withdraw 50-70% of profits</li>
                    <li>Keep 30-50% compounding</li>
                    <li>Living off trading income sustainably</li>
                  </ul>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Geometric vs Arithmetic Returns</h4>
                  <p>Your broker statement shows arithmetic returns (misleading).</p>
                  <p><strong>Example:</strong> +50% then -50%</p>
                  <ul>
                    <li>Arithmetic average: (+50% + -50%) / 2 = 0%</li>
                    <li>Geometric return: $10k ‚Üí $15k ‚Üí $7.5k = -25%</li>
                  </ul>
                  <p><strong>Always track geometric returns (what actually happened to your money).</strong></p>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Drawdown Protection</h4>
                  <p>Compounding accelerates gains. But it also accelerates losses if you're in drawdown.</p>
                  <p><strong>Rule:</strong> If down >10%, reduce position size 50% until recovery.</p>
                  <p>Better to compound slowly than destroy years of gains with one bad streak.</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>üéØ The 1% Daily Rule</h4>
                <p>Want a realistic target? Aim for 1% per DAY average.</p>
                <ul>
                  <li>1% daily = ~21% monthly (assuming 21 trading days)</li>
                  <li>But you won't hit 1% every day (some wins, some losses)</li>
                  <li>More realistic: 2-3% on winning days, -1% on losing days, 0.5% average</li>
                </ul>
                <p>This compounds to 10-15% monthly if you can sustain it (elite level).</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculator 6: Win Rate & Expectancy -->
  <section class="wrap" id="winrate" style="margin:4rem auto">
    <div class="card featured">
      <div class="calc-header">
        <div class="calc-number">06</div>
        <div>
          <h2 class="headline md" style="margin:0">üéØ Win Rate & Expectancy Calculator</h2>
          <p class="calc-tagline">You have a 60% win rate? Congratulations, you're either about to blow up or you're profitable. Win rate alone tells me nothing.</p>
        </div>
      </div>

      <div class="tabs">
        <div class="tabs-nav">
          <button>Calculator</button>
          <button>Why This Matters</button>
          <button>The Math</button>
          <button>Pro Analysis</button>
        </div>
        <div class="tabs-content">
          <!-- Calculator Tab -->
          <div class="tab-panel">
            <div class="calc-grid">
              <div class="calc-inputs">
                <div class="form-group">
                  <label>Number of Wins</label>
                  <input type="number" id="wr-wins" class="calc-input" value="60" min="0" step="1">
                </div>

                <div class="form-group">
                  <label>Number of Losses</label>
                  <input type="number" id="wr-losses" class="calc-input" value="40" min="0" step="1">
                </div>

                <div class="form-group">
                  <label>Average Win ($)</label>
                  <input type="number" id="wr-avg-win" class="calc-input" value="200" min="0" step="1">
                </div>

                <div class="form-group">
                  <label>Average Loss ($)</label>
                  <input type="number" id="wr-avg-loss" class="calc-input" value="100" min="0" step="1">
                </div>

                <button class="btn btn-primary" onclick="calculateWinRate()">Calculate Expectancy</button>
              </div>

              <div class="calc-results">
                <div id="wr-result" class="result-box" style="display:none">
                  <h4 style="margin:0 0 1rem 0">Results</h4>
                  <div class="result-item large">
                    <span class="result-label">Win Rate</span>
                    <span class="result-value" id="wr-rate">-</span>
                  </div>
                  <div id="wr-verdict" class="verdict-box" style="margin:1rem 0"></div>
                  <div class="result-item large">
                    <span class="result-label">Expectancy Per Trade</span>
                    <span class="result-value" id="wr-expectancy">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Profit Factor</span>
                    <span class="result-value" id="wr-pf">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Total Trades</span>
                    <span class="result-value" id="wr-total">-</span>
                  </div>
                  <div class="result-item">
                    <span class="result-label">Average R</span>
                    <span class="result-value" id="wr-avg-r">-</span>
                  </div>
                </div>

                <div class="info-card" style="margin-top:1.5rem">
                  <h5>üí° What Matters</h5>
                  <p style="margin:0.5rem 0 0 0;font-size:0.9rem;line-height:1.6">Win rate is vanity. Expectancy is reality. Profit factor is survival.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Why This Matters Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Win Rate is the Most Misunderstood Metric</h3>

              <p>Beginners obsess over win rate ("I need to win more trades!"). Professionals IGNORE it ("I only need 35% with proper R:R"). The ONLY metric that matters is EXPECTANCY‚Äîyour average expected profit per trade.</p>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è The Win Rate Trap</h4>
                <p><strong>Trader A: 90% Win Rate</strong></p>
                <ul>
                  <li>90 wins √ó $10 = $900</li>
                  <li>10 losses √ó $1,000 = $10,000</li>
                  <li><strong>Net: -$9,100</strong></li>
                </ul>
                <p><strong>Trader B: 30% Win Rate</strong></p>
                <ul>
                  <li>30 wins √ó $500 = $15,000</li>
                  <li>70 losses √ó $50 = $3,500</li>
                  <li><strong>Net: +$11,500</strong></li>
                </ul>
                <p style="margin-top:1rem">Trader A has 90% win rate and is bankrupt. Trader B has 30% win rate and is profitable.</p>
              </div>

              <h4>The Math That Breaks Retail Traders</h4>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:2rem 0">
                <div class="comparison-box bad">
                  <h5>‚ùå High Win Rate, Negative Expectancy</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Win Rate: 70%</li>
                    <li>Avg Win: $100</li>
                    <li>Avg Loss: $300</li>
                    <li>Expectancy: (0.70 √ó $100) - (0.30 √ó $300)</li>
                    <li><strong>= -$20 per trade</strong></li>
                  </ul>
                  <p style="margin-top:1rem">Losing money despite "winning most trades."</p>
                </div>

                <div class="comparison-box good">
                  <h5>‚úì Low Win Rate, Positive Expectancy</h5>
                  <ul style="margin:0.5rem 0">
                    <li>Win Rate: 35%</li>
                    <li>Avg Win: $500</li>
                    <li>Avg Loss: $100</li>
                    <li>Expectancy: (0.35 √ó $500) - (0.65 √ó $100)</li>
                    <li><strong>= +$110 per trade</strong></li>
                  </ul>
                  <p style="margin-top:1rem">Making money despite "losing most trades."</p>
                </div>
              </div>

              <div class="callout callout-success">
                <h4>‚úì What Professionals Track</h4>
                <p><strong>Expectancy:</strong> Average $ per trade (must be positive)</p>
                <p><strong>Profit Factor:</strong> Gross Profit / Gross Loss</p>
                <ul>
                  <li>PF < 1.0 = Losing</li>
                  <li>PF = 1.5-2.0 = Profitable</li>
                  <li>PF > 3.0 = Elite</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- The Math Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>The Math Behind Expectancy</h3>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Expectancy Formula</h4>
                  <p><strong>Expectancy = (Win Rate √ó Avg Win) - (Loss Rate √ó Avg Loss)</strong></p>
                  <p>This tells you the average $ you can expect per trade over the long run.</p>
                  <p>Must be POSITIVE or you're statistically guaranteed to lose.</p>
                </div>
              </div>

              <h4>Win Rate Requirements by R:R</h4>

              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>R:R Ratio</th>
                    <th>Min Win Rate (Break-Even)</th>
                    <th>Comfortable Win Rate</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1:1</td>
                    <td>50%</td>
                    <td class="warn">60%+</td>
                  </tr>
                  <tr>
                    <td>1:2</td>
                    <td>34%</td>
                    <td class="good">45%+</td>
                  </tr>
                  <tr>
                    <td>1:3</td>
                    <td>25%</td>
                    <td class="good">35%+</td>
                  </tr>
                  <tr>
                    <td>2:1</td>
                    <td>66%</td>
                    <td class="bad">75%+</td>
                  </tr>
                  <tr>
                    <td>3:1</td>
                    <td>75%</td>
                    <td class="bad">85%+</td>
                  </tr>
                </tbody>
              </table>

              <p><strong>Key Insight:</strong> Trading at 1:3 R:R, you only need 25% win rate to BREAK EVEN. At 35% you're PROFITABLE.</p>

              <div class="callout callout-info">
                <h4>üìä Profit Factor Breakdown</h4>
                <p><strong>Formula:</strong> (# Wins √ó Avg Win) / (# Losses √ó Avg Loss)</p>
                <p><strong>Example:</strong> 60 wins @ $200 avg, 40 losses @ $100 avg</p>
                <ul>
                  <li>Gross Profit: 60 √ó $200 = $12,000</li>
                  <li>Gross Loss: 40 √ó $100 = $4,000</li>
                  <li>Profit Factor: $12,000 / $4,000 = 3.0</li>
                </ul>
                <p>This is what profitable trading looks like. Not 95% win rate. Just consistent edge executed repeatedly.</p>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>Consecutive Loss Probability</h4>
                  <p>Even at 60% win rate, you WILL hit losing streaks:</p>
                  <ul>
                    <li>5 losses in a row: 1% chance every 100 trades</li>
                    <li>10 losses in a row: 0.01% chance (rare but happens)</li>
                  </ul>
                  <p>That's not bad luck‚Äîthat's normal variance. Expect it or quit when it happens.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Pro Analysis Tab -->
          <div class="tab-panel">
            <div class="prose">
              <h3>Professional Performance Analysis</h3>

              <div class="callout callout-success">
                <h4>‚úì What Your Numbers Should Look Like</h4>
                <p>After 100+ trades, professionals typically have:</p>
                <ul>
                  <li><strong>Win Rate:</strong> 40-55% (NOT 70%+)</li>
                  <li><strong>Average R:</strong> 1.5R-3R on winners</li>
                  <li><strong>Profit Factor:</strong> 1.5-2.5</li>
                  <li><strong>Expectancy:</strong> 0.5R-1R per trade</li>
                </ul>
              </div>

              <h4>Why Most Profitable Traders Have 40-55% Win Rate</h4>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <p>They wait for GREAT setups (fewer trades)</p>
                  <p>They take profits at logical targets (big R multiples)</p>
                  <p>They cut losses FAST (small R multiples)</p>
                  <p><strong>Result:</strong> Lower win rate, higher profitability.</p>
                </div>
              </div>

              <div class="callout callout-warning">
                <h4>‚ö†Ô∏è Warning Signs</h4>
                <p><strong>If your win rate is >70%, you're probably:</strong></p>
                <ol>
                  <li>Overtrading (taking mediocre setups)</li>
                  <li>Taking profits too early (low R:R)</li>
                  <li>Moving stops (not honoring original risk)</li>
                  <li>Cherry-picking closed trades (fooling yourself)</li>
                </ol>
              </div>

              <div class="mistake-card">
                <div class="mistake-header bad">‚ùå The Psychology Trap</div>
                <h4>Cutting Winners, Letting Losers Run</h4>
                <p>Humans are wired to HATE losing. So we:</p>
                <ul>
                  <li>Cut winners early (lock in dopamine hit)</li>
                  <li>Let losers run (avoid pain of accepting loss)</li>
                </ul>
                <p><strong>Result:</strong> High win rate, negative expectancy, eventual bankruptcy.</p>
                <div class="mistake-fix">
                  <strong>‚úì Fix:</strong> Professionals force themselves to do the opposite:
                  <ul>
                    <li>Cut losers FAST (take pain early)</li>
                    <li>Let winners RUN (delay gratification)</li>
                  </ul>
                  Result: Lower win rate, positive expectancy, long-term profitability.
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-icon">üíé</div>
                <div>
                  <h4>The 30-Day Challenge</h4>
                  <p>Don't track win rate for 30 days. ONLY track expectancy.</p>
                  <p>You'll stop chasing setups with mediocre R:R just to "keep your win rate up."</p>
                  <p>Focus on average R per trade. That's your real edge.</p>
                </div>
              </div>

              <div class="callout callout-info">
                <h4>üìñ Related Education</h4>
                <p>For deep dive into expectancy and performance metrics, see:</p>
                <ul>
                  <li><a href="/curriculum/intermediate/26-trade-journal-mastery.html">Article #26: Journaling & Review Systems</a></li>
                  <li><a href="/curriculum/advanced/39-performance-attribution.html">Article #39: Performance Attribution</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Info Section -->
  <section class="wrap" style="margin:4rem auto">
    <div class="card featured">
      <h2 class="headline md text-center">About These Calculators</h2>
      <div class="grid three-col" style="margin-top:2rem">
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üîí</div>
          <h4>Privacy First</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">All calculations happen locally in your browser. No data is sent to any server. Your trading information stays private.</p>
        </div>
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üìä</div>
          <h4>Professional Grade</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">Industry-standard formulas used by professional traders, prop firms, and hedge funds worldwide.</p>
        </div>
        <div class="text-center">
          <div style="font-size:3rem;margin-bottom:1rem">üéì</div>
          <h4>Educational Focus</h4>
          <p style="font-size:.9rem;color:var(--muted);line-height:1.6">Not just calculators‚Äîeach one teaches you the WHY behind the math. Learn the principles that separate pros from gamblers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Articles -->
  <section class="wrap" style="margin:4rem auto">
    <div class="card">
      <h3 class="headline sm" style="margin:0 0 1.5rem 0">üìö Related Education</h3>
      <div class="grid auto-300">
        <a href="/curriculum/beginner/09-position-sizing.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #9</div>
            <h4>Position Sizing Science</h4>
            <p class="note">Learn Kelly Criterion, fixed fractional, and ATR-based position sizing</p>
          </div>
        </a>
        <a href="/curriculum/beginner/10-stop-losses.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #10</div>
            <h4>Stop Losses & ATR</h4>
            <p class="note">Structure-based stops, ATR multiples, and the 2R rule</p>
          </div>
        </a>
        <a href="/curriculum/intermediate/25-advanced-risk-management.html" class="lesson-card-link">
          <div class="card post">
            <div class="kicker">üìñ Article #25</div>
            <h4>Advanced Risk Management</h4>
            <p class="note">Portfolio heat, correlation risk, and professional trade management</p>
          </div>
        </a>
      </div>
    </div>
  </section>

</main>

<footer class="sp-footer">
  <div class="wrap">
    <div>¬© <span id="year"></span> Signal Pilot Labs, Inc. All rights reserved.</div>
    <div class="links"><a href="https://signalpilot.io/privacy.html">Privacy</a><a href="https://signalpilot.io/terms.html">Terms</a></div>
  </div>
</footer>

<script src="/assets/edu.js" defer></script>
<script src="/assets/edu-enhanced.js" defer></script>
<!-- SignalPilot Theme Switcher -->
<script src="/assets/signalpilot-theme.js"></script>

<script>
// Position Size Calculator
function calculatePositionSize() {
  const balance = parseFloat(document.getElementById('ps-balance').value);
  const riskPct = parseFloat(document.getElementById('ps-risk-pct').value);
  const entry = parseFloat(document.getElementById('ps-entry').value);
  const stop = parseFloat(document.getElementById('ps-stop').value);

  const dollarRisk = balance * (riskPct / 100);
  const riskPerUnit = Math.abs(entry - stop);
  const positionSize = dollarRisk / riskPerUnit;
  const totalValue = positionSize * entry;

  document.getElementById('ps-size').textContent = positionSize.toFixed(2) + ' shares';
  document.getElementById('ps-dollar-risk').textContent = '$' + dollarRisk.toFixed(2);
  document.getElementById('ps-risk-unit').textContent = '$' + riskPerUnit.toFixed(2);
  document.getElementById('ps-total-value').textContent = '$' + totalValue.toFixed(2);
  document.getElementById('ps-result').style.display = 'block';
}

// Risk/Reward Calculator
function calculateRiskReward() {
  const entry = parseFloat(document.getElementById('rr-entry').value);
  const stop = parseFloat(document.getElementById('rr-stop').value);
  const target = parseFloat(document.getElementById('rr-target').value);

  const risk = Math.abs(entry - stop);
  const reward = Math.abs(target - entry);
  const ratio = reward / risk;
  const minWinRate = (1 / (1 + ratio)) * 100;

  document.getElementById('rr-ratio').textContent = '1:' + ratio.toFixed(2);
  document.getElementById('rr-risk').textContent = '$' + risk.toFixed(2) + ' per share';
  document.getElementById('rr-reward').textContent = '$' + reward.toFixed(2) + ' per share';
  document.getElementById('rr-min-wr').textContent = minWinRate.toFixed(1) + '%';

  const resultBox = document.getElementById('rr-result');
  resultBox.style.display = 'block';

  // Verdict
  const verdictBox = document.getElementById('rr-verdict');
  let verdictHTML = '';
  if (ratio >= 3) {
    verdictHTML = '<div class="verdict good">‚úì Excellent R:R - Professional grade setup</div>';
  } else if (ratio >= 2) {
    verdictHTML = '<div class="verdict good">‚úì Good R:R - Meets minimum standard</div>';
  } else if (ratio >= 1.5) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Marginal R:R - Consider waiting for better entry</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå Poor R:R - Skip this trade</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  // Color code ratio
  const ratioEl = document.getElementById('rr-ratio');
  if (ratio >= 2) {
    ratioEl.style.color = '#3ed598';
  } else if (ratio >= 1.5) {
    ratioEl.style.color = '#f9a23c';
  } else {
    ratioEl.style.color = '#ff6b6b';
  }
}

// Profit/Loss Calculator
function calculateProfitLoss() {
  const type = document.getElementById('pl-type').value;
  const entry = parseFloat(document.getElementById('pl-entry').value);
  const exit = parseFloat(document.getElementById('pl-exit').value);
  const size = parseFloat(document.getElementById('pl-size').value);

  let pl;
  if (type === 'long') {
    pl = (exit - entry) * size;
  } else {
    pl = (entry - exit) * size;
  }

  const plPct = (pl / (entry * size)) * 100;
  const priceChange = ((exit - entry) / entry) * 100;

  document.getElementById('pl-amount').textContent = '$' + pl.toFixed(2);
  document.getElementById('pl-amount').style.color = pl >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('pl-pct').textContent = (pl >= 0 ? '+' : '') + plPct.toFixed(2) + '%';
  document.getElementById('pl-pct').style.color = pl >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('pl-price-change').textContent = (priceChange >= 0 ? '+' : '') + priceChange.toFixed(2) + '%';
  document.getElementById('pl-r-multiple').textContent = 'Calculate using Position Size tool';

  document.getElementById('pl-result').style.display = 'block';
}

// Fee/Commission Calculator
function calculateFees() {
  const entry = parseFloat(document.getElementById('fee-entry').value);
  const exit = parseFloat(document.getElementById('fee-exit').value);
  const size = parseFloat(document.getElementById('fee-size').value);
  const commission = parseFloat(document.getElementById('fee-commission').value);
  const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100;

  const entryCost = commission + (entry * size * feeRate);
  const exitCost = commission + (exit * size * feeRate);
  const totalFees = entryCost + exitCost;

  const grossPL = (exit - entry) * size;
  const netPL = grossPL - totalFees;

  const breakEvenMove = totalFees / size;
  const breakEvenPrice = entry + breakEvenMove;

  document.getElementById('fee-total').textContent = '$' + totalFees.toFixed(2);
  document.getElementById('fee-entry-cost').textContent = '$' + entryCost.toFixed(2);
  document.getElementById('fee-exit-cost').textContent = '$' + exitCost.toFixed(2);

  document.getElementById('fee-gross-pl').textContent = '$' + grossPL.toFixed(2);
  document.getElementById('fee-gross-pl').style.color = grossPL >= 0 ? '#3ed598' : '#ff6b6b';

  const netPLEl = document.getElementById('fee-net-pl');
  netPLEl.textContent = '$' + netPL.toFixed(2);
  netPLEl.style.color = netPL >= 0 ? '#3ed598' : '#ff6b6b';

  document.getElementById('fee-breakeven').textContent = '$' + breakEvenPrice.toFixed(2) + ' (+' + ((breakEvenMove / entry) * 100).toFixed(2) + '%)';

  document.getElementById('fee-result').style.display = 'block';
}

// Compound Growth Calculator
function calculateCompoundGrowth() {
  const startBalance = parseFloat(document.getElementById('cg-balance').value);
  const monthlyReturn = parseFloat(document.getElementById('cg-return').value) / 100;
  const months = parseInt(document.getElementById('cg-months').value);
  const monthlyAddition = parseFloat(document.getElementById('cg-addition').value);

  let balance = startBalance;
  for (let i = 0; i < months; i++) {
    balance = balance * (1 + monthlyReturn) + monthlyAddition;
  }

  const totalAdded = monthlyAddition * months;
  const totalGain = balance - startBalance - totalAdded;
  const totalReturnPct = ((balance - startBalance) / startBalance) * 100;

  // Annualized return
  const years = months / 12;
  const annualizedReturn = (Math.pow(balance / startBalance, 1 / years) - 1) * 100;

  document.getElementById('cg-final').textContent = '$' + balance.toFixed(2);
  document.getElementById('cg-gain').textContent = '$' + totalGain.toFixed(2);
  document.getElementById('cg-gain').style.color = totalGain >= 0 ? '#3ed598' : '#ff6b6b';
  document.getElementById('cg-added').textContent = '$' + totalAdded.toFixed(2);
  document.getElementById('cg-pct').textContent = '+' + totalReturnPct.toFixed(2) + '%';
  document.getElementById('cg-annual').textContent = annualizedReturn.toFixed(2) + '% per year';
  document.getElementById('cg-result').style.display = 'block';
}

// Win Rate Calculator
function calculateWinRate() {
  const wins = parseInt(document.getElementById('wr-wins').value);
  const losses = parseInt(document.getElementById('wr-losses').value);
  const avgWin = parseFloat(document.getElementById('wr-avg-win').value);
  const avgLoss = parseFloat(document.getElementById('wr-avg-loss').value);

  const totalTrades = wins + losses;
  const winRate = (wins / totalTrades) * 100;

  const expectancy = (winRate / 100 * avgWin) - ((1 - winRate / 100) * avgLoss);
  const profitFactor = (wins * avgWin) / (losses * avgLoss);
  const avgR = avgWin / avgLoss;

  document.getElementById('wr-rate').textContent = winRate.toFixed(2) + '%';

  const expectancyEl = document.getElementById('wr-expectancy');
  expectancyEl.textContent = '$' + expectancy.toFixed(2);
  expectancyEl.style.color = expectancy >= 0 ? '#3ed598' : '#ff6b6b';

  const pfEl = document.getElementById('wr-pf');
  pfEl.textContent = profitFactor.toFixed(2);
  if (profitFactor >= 2) {
    pfEl.style.color = '#3ed598';
  } else if (profitFactor >= 1.5) {
    pfEl.style.color = '#f9a23c';
  } else {
    pfEl.style.color = '#ff6b6b';
  }

  document.getElementById('wr-total').textContent = totalTrades;
  document.getElementById('wr-avg-r').textContent = avgR.toFixed(2) + 'R';

  // Verdict
  const verdictBox = document.getElementById('wr-verdict');
  let verdictHTML = '';
  if (expectancy > 50 && profitFactor > 2) {
    verdictHTML = '<div class="verdict good">‚úì Excellent System - Elite expectancy and profit factor</div>';
  } else if (expectancy > 0 && profitFactor > 1.5) {
    verdictHTML = '<div class="verdict good">‚úì Profitable System - Positive expectancy</div>';
  } else if (expectancy > 0) {
    verdictHTML = '<div class="verdict warn">‚ö†Ô∏è Marginal System - Barely profitable, needs improvement</div>';
  } else {
    verdictHTML = '<div class="verdict bad">‚ùå Losing System - Negative expectancy, do not trade this</div>';
  }
  verdictBox.innerHTML = verdictHTML;

  document.getElementById('wr-result').style.display = 'block';
}

// Set current year
document.getElementById('year').textContent = new Date().getFullYear();

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  });
});
</script>

<style>
/* Calculator Specific Styles */
.calc-header {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.calc-number {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 3rem;
  font-weight: 700;
  color: var(--brand);
  line-height: 1;
  min-width: 70px;
}

.calc-tagline {
  font-size: 1.1rem;
  line-height: 1.6;
  color: var(--muted);
  font-style: italic;
  margin: 0.5rem 0 0 0;
}

.calc-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-top: 1.5rem;
}

@media (max-width: 768px) {
  .calc-grid {
    grid-template-columns: 1fr;
  }
}

.calc-inputs {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.calc-results {
  display: flex;
  flex-direction: column;
}

.form-group {
  display: flex;
  flex-direction: column;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--muted);
}

.calc-input {
  width: 100%;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 8px;
  color: var(--text);
  font-size: 1rem;
  font-family: 'DM Sans', sans-serif;
  transition: all 0.2s ease;
}

.calc-input:focus {
  outline: none;
  border-color: var(--brand);
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 0 3px rgba(91, 138, 255, 0.1);
}

.input-hint {
  font-size: 0.8rem;
  color: var(--muted-2);
  margin-top: 0.25rem;
}

html[data-theme="light"] .calc-input {
  background: rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.12);
  color: var(--text);
}

html[data-theme="light"] .calc-input:focus {
  background: rgba(0, 0, 0, 0.05);
}

.result-box {
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(91, 138, 255, 0.1), rgba(118, 221, 255, 0.05));
  border: 1px solid rgba(91, 138, 255, 0.3);
  border-radius: 12px;
}

.result-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.result-item:last-child {
  border-bottom: none;
}

.result-item.large {
  padding: 1rem 0;
}

.result-item.large .result-value {
  font-size: 1.8rem;
}

.result-label {
  font-size: 0.9rem;
  color: var(--muted);
  font-weight: 500;
}

.result-value {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text);
}

.info-card {
  padding: 1rem;
  background: rgba(118, 221, 255, 0.1);
  border-left: 3px solid var(--accent);
  border-radius: 8px;
}

.info-card h5 {
  margin: 0 0 0.5rem 0;
  font-size: 1rem;
  color: var(--accent);
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
}

.comparison-table th,
.comparison-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.comparison-table th {
  font-weight: 600;
  color: var(--brand);
  background: rgba(91, 138, 255, 0.1);
}

.comparison-table .good {
  color: #3ed598;
  font-weight: 600;
}

.comparison-table .warn {
  color: #f9a23c;
  font-weight: 600;
}

.comparison-table .bad {
  color: #ff6b6b;
  font-weight: 600;
}

.comparison-box {
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.comparison-box.good {
  border-color: rgba(62, 213, 152, 0.3);
  background: rgba(62, 213, 152, 0.05);
}

.comparison-box.bad {
  border-color: rgba(255, 107, 107, 0.3);
  background: rgba(255, 107, 107, 0.05);
}

.comparison-box h5 {
  margin: 0 0 1rem 0;
  font-size: 1.1rem;
}

.comparison-box ul {
  margin: 0;
  padding-left: 1.2rem;
  line-height: 1.8;
}

.mistake-card {
  margin-bottom: 1.5rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.mistake-header {
  display: inline-block;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
}

.mistake-header.bad {
  background: rgba(255, 107, 107, 0.2);
  color: #ff6b6b;
  border: 1px solid rgba(255, 107, 107, 0.3);
}

.mistake-card h4 {
  margin: 0.5rem 0;
  font-size: 1.1rem;
}

.mistake-fix {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  background: rgba(62, 213, 152, 0.1);
  border-left: 3px solid #3ed598;
  border-radius: 6px;
  font-size: 0.95rem;
}

.tip-card {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(118, 221, 255, 0.05), rgba(91, 138, 255, 0.05));
  border: 1px solid rgba(118, 221, 255, 0.2);
  border-radius: 12px;
}

.tip-icon {
  font-size: 2rem;
  line-height: 1;
}

.tip-card h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
  color: var(--accent);
}

.tip-card p, .tip-card ul {
  margin: 0.5rem 0;
  font-size: 0.95rem;
  line-height: 1.6;
}

.verdict {
  padding: 0.75rem 1rem;
  border-radius: 8px;
  font-weight: 600;
  text-align: center;
}

.verdict.good {
  background: rgba(62, 213, 152, 0.15);
  color: #3ed598;
  border: 1px solid rgba(62, 213, 152, 0.3);
}

.verdict.warn {
  background: rgba(249, 162, 60, 0.15);
  color: #f9a23c;
  border: 1px solid rgba(249, 162, 60, 0.3);
}

.verdict.bad {
  background: rgba(255, 107, 107, 0.15);
  color: #ff6b6b;
  border: 1px solid rgba(255, 107, 107, 0.3);
}

.lesson-card-link {
  text-decoration: none;
  color: inherit;
  transition: transform 0.2s ease;
  display: block;
}

.lesson-card-link:hover {
  transform: translateY(-2px);
}

.styled-list {
  padding-left: 1.5rem;
  line-height: 1.8;
}

.styled-list li {
  margin-bottom: 0.5rem;
}

.styled-list strong {
  color: var(--brand);
}
</style>

</body>
</html>
