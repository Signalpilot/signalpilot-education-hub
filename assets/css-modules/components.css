/* ==================================================
   COMPONENTS MODULE
   Reusable UI components (buttons, callouts, etc.)
   ================================================== */

.callout{border:1px solid rgba(255,255,255,.18);background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03));border-radius:16px;padding:1rem;box-shadow:var(--shadow)}
html[data-theme="light"] .callout{border-color:rgba(10,20,40,.10);background:linear-gradient(180deg,rgba(10,20,40,.03),rgba(10,20,40,.01))}
/* ToC */
.btn{display:inline-flex;align-items:center;gap:.55rem;padding:.78rem 1.12rem;border-radius:999px;font-weight:800;text-decoration:none;cursor:pointer;transition:filter .15s ease, transform .04s ease;min-height:44px}
.btn:active{transform:translateY(1px)}
.btn-primary{background:linear-gradient(115deg,var(--brand),var(--brand-2));color:#fff}
.btn-ghost{color:#9fdcff;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06)}
.btn-sm{padding:.5rem .8rem;font-size:.92rem;line-height:1.1}
.nav-article{display:flex;justify-content:space-between;align-items:center;gap:.8rem;margin:1.2rem 0 2.4rem}
.callout-info,.callout-warning,.callout-tip,.callout-key{
  margin:2rem 0;padding:1.25rem 1.5rem;border-radius:12px;border-left:4px solid;
  background:rgba(255,255,255,.05);position:relative
}
.callout-info{border-color:#5b8aff;background:rgba(91,138,255,.08)}
.callout-warning{border-color:#ff9f43;background:rgba(255,159,67,.08)}
.callout-tip{border-color:#00d4aa;background:rgba(0,212,170,.08)}
.callout-key{border-color:#ff6b6b;background:rgba(255,107,107,.08);font-weight:500}
.callout-info::before,.callout-warning::before,.callout-tip::before,.callout-key::before{
  content:'';display:inline-block;width:24px;height:24px;margin-right:.75rem;vertical-align:middle;
  background-size:contain;background-repeat:no-repeat;float:left
}
.callout-info h4,.callout-warning h4,.callout-tip h4,.callout-key h4{margin:0 0 .5rem 0;font-size:1.1rem;font-weight:700}
.callout-info p:last-child,.callout-warning p:last-child,.callout-tip p:last-child,.callout-key p:last-child{margin-bottom:0}

/* Progress Indicator */
.progress-bar{position:fixed;top:0;left:0;right:0;height:3px;background:rgba(255,255,255,.1);z-index:50}
.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--brand),var(--accent));transition:width .2s ease;width:0%}
  .callout-info,.callout-warning,.callout-tip,.callout-key{padding:1rem;margin:1.5rem 0}
  .quiz{padding:1.5rem}
  .quiz-option{padding:.85rem 1rem;font-size:.95rem}
  .module-card{padding:1.25rem;margin:1.25rem 0}
  .module-card .module-title h3{font-size:1.15rem}
  .continue-reading{padding:1.5rem}
  .key-takeaway{padding:1.25rem}
  .btn{padding:.7rem 1rem;font-size:.95rem;min-height:48px}
  .btn{
    border:2px solid currentColor;
  }

  .btn{
    min-height:48px;
    padding:.875rem 1.25rem;
  }

  .quiz-option{
    padding:1rem 1.25rem;
  }
}

/* Tablet Landscape Optimization */
@media (min-width:768px) and (max-width:1199px) and (orientation:landscape){
  .hero{
    min-height:50vh;
  }

  .card,.btn,.auth-modal-content{
    transform:translateZ(0);
    backface-visibility:hidden;
  }
}

/* Touch Device Optimization */
@media (hover: none) and (pointer: coarse){
  /* Remove hover states on touch devices */
  .card:hover{
    transform:none;
  }

  /* Larger touch targets */
  a,button,.quiz-option,.lesson-item{
    min-height:44px;
    min-width:44px;
  }

  /* Add active states instead */
  .card:active{
    transform:scale(0.98);
    transition:transform 0.1s ease;
  }

  .btn:active{
    transform:translateY(2px);
  }

  /* Disable hover animations on touch */
  *{
    transition-property:background-color, color, border-color, opacity;
  }
}

/* Mouse/Trackpad Device Optimization */
@media (hover: hover) and (pointer: fine){
  /* Enable hover effects */
  .card{
    transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Subtle cursor changes */
  .card,.lesson-item,.quiz-option{
    cursor:pointer;
  }

  a:not(.btn){
    cursor:pointer;
  }
}

/* Reduced Motion - Respect user preferences */
@media (prefers-reduced-motion: reduce){
  *,*::before,*::after{
    animation-duration:0.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:0.01ms !important;
  }

  .hero::before{
    animation:none !important;
  }

  .card,.key-takeaway,.callout-info{
    page-break-inside:avoid;
  }
}

/* ============================================
   LAZY LOADING STYLES
   ============================================ */

/* Placeholder for lazy-loading images */
img[data-src] {
  background: rgba(255, 255, 255, 0.05);
  min-height: 200px;
}

/* Fade in when loaded */
img.lazy-loaded {
  animation: fadeIn 0.3s ease-in;
}

/* Placeholder animation */
img.lazy-placeholder {
  background: linear-gradient(90deg,
    rgba(255,255,255,0.05) 25%,
    rgba(255,255,255,0.1) 50%,
    rgba(255,255,255,0.05) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Error state */
img.lazy-error {
  border: 2px dashed rgba(255, 107, 107, 0.3);
  background: rgba(255, 107, 107, 0.1);
  min-height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

img.lazy-error::after {
  content: '⚠️ Image failed to load';
  color: var(--muted);
  font-size: 0.85rem;
}