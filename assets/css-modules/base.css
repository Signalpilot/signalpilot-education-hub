/* ==================================================
   BASE MODULE
   Foundation styles, resets, CSS variables, and base typography
   ================================================== */

/* ============================================
   SYSTEMATIC BEAUTIFULNESS - FOUNDATION
   ============================================ */

/* Universal box-sizing */
*,*::before,*::after{box-sizing:border-box}

/* Prevent text overflow and ensure proper wrapping */
h1,h2,h3,h4,h5,h6,p,a,span,li,td,th,div{
  word-wrap:break-word;
  overflow-wrap:break-word;
}

/* Prevent images and media from overflowing */
img,video,canvas,svg,iframe{
  max-width:100%;
  height:auto;
}

/* Better table responsiveness */
table{
  width:100%;
  max-width:100%;
  overflow-x:auto;
  display:block;
}

/* Code blocks shouldn't break layout */
pre,code{
  max-width:100%;
  overflow-x:auto;
}

:root{
  color-scheme: dark;
  --bg:#0a0e1a; --bg-2:#12182b; --text:#ecf1ff; --muted:#b7c2d9; --muted-2:#8ea0bf;
  --brand:#5b8aff; --brand-2:#7b9bff; --accent:#76ddff;
  --radius:16px; --max:1160px; --shadow:0 18px 60px rgba(12,16,27,.35);
  --grad:linear-gradient(90deg,#9cc0ff 0%,#86a8ff 35%,#7ccaff 60%,#8ca5ff 85%,#b9d4ff 100%);
}
html[data-theme="light"]{
  color-scheme: light;
  --bg:#f6f8fc; --bg-2:#ffffff; --text:#0f1524; --muted:#51607a; --muted-2:#3a4866;
  --brand:#345CFF; --brand-2:#5B8AFF; --accent:#0aa1d5;
}
html{margin:0;background:var(--bg);color:var(--text);font-family:"DM Sans",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.7;letter-spacing:.005em;transition:background-color 0.3s ease, color 0.3s ease;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-x:hidden}
body{margin:0;background:transparent;color:inherit;font:inherit;line-height:inherit;letter-spacing:inherit}
.wrap{max-width:var(--max);margin:0 auto;padding:0 clamp(16px,4vw,24px)}
/* Header - Optimized for performance */
.sp-header .wrap{display:flex;align-items:center;gap:clamp(0.5rem,2vw,1.5rem);padding:.75rem clamp(16px,4vw,24px);flex-wrap:nowrap}
/* Brand styling - ensure Gugi font is applied (inherited from signalpilot-theme.css) */
.hero .wrap{
  position:relative;
  z-index:1;
}

html[data-theme="light"] .hero::before{
  background:
    radial-gradient(circle at 30% 20%, rgba(91,138,255,.25), transparent 40%),
    radial-gradient(circle at 70% 60%, rgba(118,221,255,.20), transparent 40%),
    radial-gradient(circle at 50% 80%, rgba(123,155,255,.18), transparent 50%);
}

/* ============================================
   ENHANCED EDUCATION HUB STYLES
   ============================================ */

/* Callout Boxes - Different types for different purposes */
  .sp-header .wrap{
    padding:.5rem 0;
  }

  /* Reduce vertical spacing in landscape */
  .module-card{
    margin:1rem 0;
    padding:1rem;
  }

  .wrap{
    padding-left:max(clamp(16px,4vw,24px),env(safe-area-inset-left));
    padding-right:max(clamp(16px,4vw,24px),env(safe-area-inset-right));
  }

   SYSTEMATIC BEAUTIFULNESS - POLISH & UX
   ============================================ */

/* Smooth focus states for accessibility and beauty */
a:focus-visible,button:focus-visible,input:focus-visible,textarea:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
  border-radius:4px;
}

/* Smooth hover transitions for all interactive elements */
a,button,input,select,textarea,.card,.lesson-item,.quiz-option,.accordion-header{
  transition:all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Prevent layout shift from hover effects */
.card{
  will-change:transform;
  backface-visibility:hidden;
  transform:translateZ(0);
}

/* Subtle animations on scroll (browsers that support it) */
@media (prefers-reduced-motion: no-preference){
  .card,.module-card,.progress-card,.key-takeaway{
    animation:fadeInUp 0.5s ease-out;
  }
}

@keyframes fadeInUp{
  from{
    opacity:0;
    transform:translateY(20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce){
  *,*::before,*::after{
    animation-duration:0.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:0.01ms !important;
    scroll-behavior:auto !important;
  }
}

/* Better spacing for nested lists */
ul ul,ol ol,ul ol,ol ul{
  margin-top:0.5rem;
  margin-bottom:0.5rem;
}

/* Ensure consistent link colors */
  .wrap{
    padding:0 2rem;
  }

  .grid.three-col{
    grid-template-columns:repeat(2,1fr);
  }

  .sp-header .wrap{
    padding:.5rem 0;
  }

  /* Reduce vertical spacing */
  .section-break{
    margin:2rem 0;
  }

  .card{
    padding:1rem;
  }
}

/* Large Desktop (2K, 4K displays) */
@media (min-width:1920px){
  :root{
    --max:1400px;
  }

  .wrap{
    max-width:1400px;
  }

  .sp-header .wrap{
    gap:0.25rem;
  }

  .wrap{
    max-width:100% !important;
    padding:0 !important;
  }